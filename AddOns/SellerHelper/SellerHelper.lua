 local SellerHelper_7791e0406167410020e5d23e998262f1 = {}; local SellerHelper_31e5a0db12dd55bae58bbaa9d0eec088 = {}; local SellerHelper_ac64ce3b65b6736e55d5eebb1bbc5e38 = {}; SellerHelper_AutoSellList = {}; local SellerHelper_b2ad00f99ad778081c12c273cf1a2dde = nil; local SellerHelper_22cf46a9266b3e828ae5e0513a4cff32 = nil; local SellerHelper_5184b2808274d65c971e5768d675f125 = nil; local SellerHelper_0578af96a024f21f56a20439e6844571 = nil; if ( GetLocale() == "zhCN" ) then MOD_SELLER_HELPER_TITLE = {"售卖助手", "shoumaizhushou"}; SELLER_HELPER_HELP_TEXT = "点击物品图标可以将物品设置为自动出售物品。"; SellerHelper_433ed5aa4fa554dc1e4f0d58dd999a0a = 8; SellerHelper_29987f962b37666dd9370ccf59d8c431 = 37; SellerHelper_b4d13aa01848e942c4cc4672e8714da5 = 0; SellerHelper_d3564a59a81b28f4da8a59ae889951e2 = 7; SellerHelper_1ed65bfa533f75763175cd829669c91d = {}; SellerHelper_1ed65bfa533f75763175cd829669c91d[0] = "粗糙物品"; SellerHelper_1ed65bfa533f75763175cd829669c91d[1] = "普通物品"; SellerHelper_1ed65bfa533f75763175cd829669c91d[2] = "优秀物品"; SellerHelper_1ed65bfa533f75763175cd829669c91d[3] = "稀有物品"; SellerHelper_1ed65bfa533f75763175cd829669c91d[4] = "史诗物品"; SellerHelper_1ed65bfa533f75763175cd829669c91d[5] = "质量4物品"; SellerHelper_1ed65bfa533f75763175cd829669c91d[6] = "质量5物品"; SellerHelper_1ed65bfa533f75763175cd829669c91d[7] = "质量6物品"; SellerHelper_36d0ea6328b4880bb1cf1d5b98985e10 = "自动出售物品"; SellerHelper_0757a2ad28711b534d755f653dd912fe = "你选择的物品将被从自动售卖列表中移除，你真的想这么做吗？"; SELLER_HELPER_SHOW_TEXT = "售卖助手>>"; SELLER_HELPER_HIDE_TEXT = "售卖助手<<"; SELLER_HELPER_TITLE = "售卖助手"; SELLER_HELPER_ENABLE_TEXT = "开启售卖助手"; SELLER_HELPER_AUTO_SELL_POOR_TEXT = "自动售卖粗糙物品"; SELLER_HELPER_KEEP_DARKMOON_ITEM_TEXT = "不出售暗月马戏团物品"; SELLER_HELPER_KEEP_MINING_TOOL_TEXT = "不出售暗血矿工锄"; SELLER_HELPER_COLLAPSE_ALL_TEXT = "开启售卖窗口时自动折叠所有类别"; SELLER_HELPER_DIALOG_INFO1 = "你选择的这个物品将被设置为自动出售物品，你确定要这么做吗？"; SellerHelper_83b9aa4a8b60c84adcb5afd475dea0b1 = { ["毛茸茸的小爪子"] = true, ["破损的熊皮"] = true, ["柔软的尾巴"] = true, ["鲜艳的羽毛"] = true, ["邪恶的蝙蝠眼"] = true }; SellerHelper_736750c1332bc975f3cc046d1be5e554 = { ["暗血矿工锄"] = true }; SellerHelper_dbd5ea9bb789fc00cb59bb4cc2d1f71b = "自动出售了[%s]，价值为%s。"; SellerHelper_5365f09cf64de4e4ef6f85d61a2c7c38 = "金币"; SellerHelper_64c2a722159954204326f6d805f5135b = "银币"; SellerHelper_81cbcfba4fa033a3ccc8e05d05fb75e1 = "铜币"; elseif (GetLocale() == "zhTW") then MOD_SELLER_HELPER_TITLE = {"出售助手", "chushouzhushou"}; SELLER_HELPER_HELP_TEXT = "點擊物品圖標可以將物品設置為自動出售物品。"; SellerHelper_433ed5aa4fa554dc1e4f0d58dd999a0a = 8; SellerHelper_29987f962b37666dd9370ccf59d8c431 = 37; SellerHelper_b4d13aa01848e942c4cc4672e8714da5 = 0; SellerHelper_d3564a59a81b28f4da8a59ae889951e2 = 7; SellerHelper_1ed65bfa533f75763175cd829669c91d = {}; SellerHelper_1ed65bfa533f75763175cd829669c91d[0] = "粗糙物品"; SellerHelper_1ed65bfa533f75763175cd829669c91d[1] = "普通物品"; SellerHelper_1ed65bfa533f75763175cd829669c91d[2] = "優秀物品"; SellerHelper_1ed65bfa533f75763175cd829669c91d[3] = "稀有物品"; SellerHelper_1ed65bfa533f75763175cd829669c91d[4] = "史詩物品"; SellerHelper_1ed65bfa533f75763175cd829669c91d[5] = "質量4物品"; SellerHelper_1ed65bfa533f75763175cd829669c91d[6] = "質量5物品"; SellerHelper_1ed65bfa533f75763175cd829669c91d[7] = "質量6物品"; SellerHelper_36d0ea6328b4880bb1cf1d5b98985e10 = "自動出售物品"; SellerHelper_0757a2ad28711b534d755f653dd912fe = "你選擇的物品將被從自動出售列表中移除，你真的想這麼做嗎？"; SELLER_HELPER_SHOW_TEXT = "出售助手>>"; SELLER_HELPER_HIDE_TEXT = "出售助手<<"; SELLER_HELPER_TITLE = "出售助手"; SELLER_HELPER_ENABLE_TEXT = "開啟出售助手"; SELLER_HELPER_AUTO_SELL_POOR_TEXT = "自動出售粗糙物品"; SELLER_HELPER_KEEP_DARKMOON_ITEM_TEXT = "不出售暗月馬戲團物品"; SELLER_HELPER_KEEP_MINING_TOOL_TEXT = "不出售暗血礦工鋤"; SELLER_HELPER_COLLAPSE_ALL_TEXT = "開啟出售視窗時自動折疊所有類別"; SELLER_HELPER_DIALOG_INFO1 = "你選擇的這個物品將被設置為自動出售物品，你確定要這麼做嗎？"; SellerHelper_83b9aa4a8b60c84adcb5afd475dea0b1 = { ["毛茸茸的小爪子"] = true, ["破損的熊皮"] = true, ["柔軟的尾巴"] = true, ["鮮豔的羽毛"] = true, ["邪惡的蝙蝠眼"] = true }; SellerHelper_736750c1332bc975f3cc046d1be5e554 = { ["暗血礦工鋤"] = true }; SellerHelper_dbd5ea9bb789fc00cb59bb4cc2d1f71b = "自動出售了[%s]，價值為%s。"; SellerHelper_5365f09cf64de4e4ef6f85d61a2c7c38 = "金幣"; SellerHelper_64c2a722159954204326f6d805f5135b = "銀幣"; SellerHelper_81cbcfba4fa033a3ccc8e05d05fb75e1 = "銅幣"; else MOD_SELLER_HELPER_TITLE = "Sell Helper"; SELLER_HELPER_HELP_TEXT = "Click item icon to set the item to auto-sell item."; SellerHelper_433ed5aa4fa554dc1e4f0d58dd999a0a = 8; SellerHelper_29987f962b37666dd9370ccf59d8c431 = 37; SellerHelper_b4d13aa01848e942c4cc4672e8714da5 = 0; SellerHelper_d3564a59a81b28f4da8a59ae889951e2 = 7; SellerHelper_1ed65bfa533f75763175cd829669c91d = {}; SellerHelper_1ed65bfa533f75763175cd829669c91d[0] = "Poor"; SellerHelper_1ed65bfa533f75763175cd829669c91d[1] = "Common"; SellerHelper_1ed65bfa533f75763175cd829669c91d[2] = "Uncommon"; SellerHelper_1ed65bfa533f75763175cd829669c91d[3] = "Rare"; SellerHelper_1ed65bfa533f75763175cd829669c91d[4] = "Epic"; SellerHelper_1ed65bfa533f75763175cd829669c91d[5] = "Quality 4"; SellerHelper_1ed65bfa533f75763175cd829669c91d[6] = "Quality 5"; SellerHelper_1ed65bfa533f75763175cd829669c91d[7] = "Quality 6"; SellerHelper_36d0ea6328b4880bb1cf1d5b98985e10 = "Auto Sell"; SellerHelper_0757a2ad28711b534d755f653dd912fe = "The item you selected will be removed from auto-sell list, do you really want to do?"; SELLER_HELPER_SHOW_TEXT = "Sell Helper>>"; SELLER_HELPER_HIDE_TEXT = "Sell Helper<<"; SELLER_HELPER_TITLE = "Seller Helper"; SELLER_HELPER_ENABLE_TEXT = "Enable Seller Helper"; SELLER_HELPER_AUTO_SELL_POOR_TEXT = "Auto sell all poor items"; SELLER_HELPER_KEEP_DARKMOON_ITEM_TEXT = "Keep Darkmoon Faire Items"; SELLER_HELPER_KEEP_MINING_TOOL_TEXT = "Keep Mining Tool"; SELLER_HELPER_COLLAPSE_ALL_TEXT = "Collapse all items when showing"; SELLER_HELPER_DIALOG_INFO1 = "The item you selected has been set to auto-sell item, do you really want to do?"; SellerHelper_83b9aa4a8b60c84adcb5afd475dea0b1 = { ["Small Furry Paw"] = true, ["Torn Bear Pelt"] = true, ["Long Soft Tail "] = true, ["Vibrant Plume"] = true, ["Evil Bat Eye"] = true }; SellerHelper_736750c1332bc975f3cc046d1be5e554 = { ["Murkblood Miner's Pick"] = true }; SellerHelper_dbd5ea9bb789fc00cb59bb4cc2d1f71b = "Sell [%s] for %s."; SellerHelper_5365f09cf64de4e4ef6f85d61a2c7c38 = " Gold"; SellerHelper_64c2a722159954204326f6d805f5135b = " Silver"; SellerHelper_81cbcfba4fa033a3ccc8e05d05fb75e1 = " Copper"; end SellerHelper_b2934d26ac4ac33a460ee88438199323 = { [0] = {r=157, g=157, b=157}, [1] = {r=255, g=255, b=255}, [2] = {r=30, g=255, b=0}, [3] = {r=0, g=112, b=221}, [4] = {r=163, g=53, b=238}, [5] = {r=157, g=157, b=157}, [6] = {r=157, g=157, b=157}, [7] = {r=157, g=157, b=157} }; local SellerHelper_a4ed2c6153d1a73ae298b67f0bcbabce = BLibrary("BInfo", "chat", SELLER_HELPER_TITLE); local SellerHelper_d21ea2df7d42b70936e5762719760d32 = BLibrary("BHook"); StaticPopupDialogs["AUTOSELL_ADD_ITEM"] = { text = SELLER_HELPER_DIALOG_INFO1, button1 = TEXT(YES), button2 = TEXT(NO), OnShow = function() end, OnAccept = function() SellerHelper_fc344f6b0eb7958de65eab08097aedae() end, OnCancel = function(SellerHelper_3a41fa2f33897b6c190993d845e6b222) end, showAlert = 1, timeout = 0, }; StaticPopupDialogs["AUTOSELL_REMOVE_ITEM"] = { text = SellerHelper_0757a2ad28711b534d755f653dd912fe, button1 = TEXT(YES), button2 = TEXT(NO), OnShow = function() end, OnAccept = function() SellerHelper_9d9b7a69f49f6a037c9785362ca46a17() end, OnCancel = function(SellerHelper_3a41fa2f33897b6c190993d845e6b222) end, showAlert = 1, timeout = 0, }; function SellerHelper_50cf45b94a10b7bdc8ae915538dd90d6(SellerHelper_45d3d4ac2d1ffdc6f36613ad11674205, SellerHelper_9d6e906d7d9e06fa730d3e838967cda1) SellerHelper_0578af96a024f21f56a20439e6844571 = 0; SellerHelperTooltip:SetBagItem(SellerHelper_45d3d4ac2d1ffdc6f36613ad11674205, SellerHelper_9d6e906d7d9e06fa730d3e838967cda1); return SellerHelper_0578af96a024f21f56a20439e6844571; end function SellerHelper_b19b27a0d162fb09455d3db0009cdd1e(SellerHelper_7bc8579c0219e9fbb9e69f6c640b0b50, SellerHelper_1f194f793e9150819d886c66d5bc23b5) for SellerHelper_71bbf5556026689cd8be9c620976a063, SellerHelper_6c5560108ad7aaf47e811081394a00b4 in pairs(SellerHelper_7bc8579c0219e9fbb9e69f6c640b0b50) do SellerHelper_6c5560108ad7aaf47e811081394a00b4[SellerHelper_1f194f793e9150819d886c66d5bc23b5] = nil; end end function SellerHelper_67eacaeaebcaf5c5fbbfed0aaa269c0e(SellerHelper_7bc8579c0219e9fbb9e69f6c640b0b50, SellerHelper_1f194f793e9150819d886c66d5bc23b5, SellerHelper_9248008bbb6d0ee7ce13f6ee45680051, SellerHelper_e92be00eafc11562d2cc29c723b2b467, SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f, SellerHelper_153c09d58f6a5f5b4e49d6f46f5b1395) if ( not SellerHelper_7bc8579c0219e9fbb9e69f6c640b0b50[SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f] ) then SellerHelper_7bc8579c0219e9fbb9e69f6c640b0b50[SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f] = {}; end if ( not SellerHelper_7bc8579c0219e9fbb9e69f6c640b0b50[SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f][SellerHelper_1f194f793e9150819d886c66d5bc23b5] ) then SellerHelper_7bc8579c0219e9fbb9e69f6c640b0b50[SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f][SellerHelper_1f194f793e9150819d886c66d5bc23b5] = {}; SellerHelper_7bc8579c0219e9fbb9e69f6c640b0b50[SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f][SellerHelper_1f194f793e9150819d886c66d5bc23b5]["count"] = 0; end SellerHelper_7bc8579c0219e9fbb9e69f6c640b0b50[SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f][SellerHelper_1f194f793e9150819d886c66d5bc23b5]["icon"] = SellerHelper_9248008bbb6d0ee7ce13f6ee45680051; SellerHelper_7bc8579c0219e9fbb9e69f6c640b0b50[SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f][SellerHelper_1f194f793e9150819d886c66d5bc23b5]["count"] = SellerHelper_7bc8579c0219e9fbb9e69f6c640b0b50[SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f][SellerHelper_1f194f793e9150819d886c66d5bc23b5]["count"] + SellerHelper_e92be00eafc11562d2cc29c723b2b467; SellerHelper_7bc8579c0219e9fbb9e69f6c640b0b50[SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f][SellerHelper_1f194f793e9150819d886c66d5bc23b5]["price"] = SellerHelper_153c09d58f6a5f5b4e49d6f46f5b1395; end function SellerHelper_c085327b81635de930c56021ae8b42ab() local __index; SellerHelper_7791e0406167410020e5d23e998262f1 = {}; for __index = SellerHelper_b4d13aa01848e942c4cc4672e8714da5, SellerHelper_d3564a59a81b28f4da8a59ae889951e2 do if ( SellerHelper_31e5a0db12dd55bae58bbaa9d0eec088[__index] ) then table.sort(SellerHelper_31e5a0db12dd55bae58bbaa9d0eec088[__index]); local SellerHelper_2e00ffac12aadb3a1fd865993ec505b9 = {}; SellerHelper_2e00ffac12aadb3a1fd865993ec505b9["name"] = SellerHelper_1ed65bfa533f75763175cd829669c91d[__index]; SellerHelper_2e00ffac12aadb3a1fd865993ec505b9["header"] = 1; SellerHelper_2e00ffac12aadb3a1fd865993ec505b9["color"] = SellerHelper_b2934d26ac4ac33a460ee88438199323[__index]; if ( not SellerHelper_ac64ce3b65b6736e55d5eebb1bbc5e38[SellerHelper_1ed65bfa533f75763175cd829669c91d[__index]] ) then SellerHelper_2e00ffac12aadb3a1fd865993ec505b9["expanded"] = 1; end table.insert(SellerHelper_7791e0406167410020e5d23e998262f1, SellerHelper_2e00ffac12aadb3a1fd865993ec505b9); if ( not SellerHelper_ac64ce3b65b6736e55d5eebb1bbc5e38[SellerHelper_1ed65bfa533f75763175cd829669c91d[__index]] ) then for SellerHelper_1f194f793e9150819d886c66d5bc23b5, SellerHelper_2361bab8b48b1041ad740bb561b21aee in pairs(SellerHelper_31e5a0db12dd55bae58bbaa9d0eec088[__index]) do SellerHelper_2e00ffac12aadb3a1fd865993ec505b9 = {}; SellerHelper_2e00ffac12aadb3a1fd865993ec505b9["name"] = SellerHelper_1f194f793e9150819d886c66d5bc23b5; SellerHelper_2e00ffac12aadb3a1fd865993ec505b9["icon"] = SellerHelper_2361bab8b48b1041ad740bb561b21aee["icon"]; SellerHelper_2e00ffac12aadb3a1fd865993ec505b9["count"] = SellerHelper_2361bab8b48b1041ad740bb561b21aee["count"]; SellerHelper_2e00ffac12aadb3a1fd865993ec505b9["price"] = SellerHelper_2361bab8b48b1041ad740bb561b21aee["price"]; SellerHelper_2e00ffac12aadb3a1fd865993ec505b9["quality"] = __index; table.insert(SellerHelper_7791e0406167410020e5d23e998262f1, SellerHelper_2e00ffac12aadb3a1fd865993ec505b9); end end end end local SellerHelper_3f50417fb16be9b1078eb68d24fa9c26 = 0; for __index in pairs(SellerHelper_AutoSellList) do SellerHelper_3f50417fb16be9b1078eb68d24fa9c26 = SellerHelper_3f50417fb16be9b1078eb68d24fa9c26 + 1; end if ( SellerHelper_3f50417fb16be9b1078eb68d24fa9c26 > 0 ) then local SellerHelper_2e00ffac12aadb3a1fd865993ec505b9 = {}; SellerHelper_2e00ffac12aadb3a1fd865993ec505b9["name"] = SellerHelper_36d0ea6328b4880bb1cf1d5b98985e10; SellerHelper_2e00ffac12aadb3a1fd865993ec505b9["header"] = 1; SellerHelper_2e00ffac12aadb3a1fd865993ec505b9["color"] = {r=255, g=255, b=0}; if ( not SellerHelper_ac64ce3b65b6736e55d5eebb1bbc5e38[SellerHelper_36d0ea6328b4880bb1cf1d5b98985e10] ) then SellerHelper_2e00ffac12aadb3a1fd865993ec505b9["expanded"] = 1; end table.insert(SellerHelper_7791e0406167410020e5d23e998262f1, SellerHelper_2e00ffac12aadb3a1fd865993ec505b9); if ( not SellerHelper_ac64ce3b65b6736e55d5eebb1bbc5e38[SellerHelper_36d0ea6328b4880bb1cf1d5b98985e10] ) then for SellerHelper_1f194f793e9150819d886c66d5bc23b5, SellerHelper_2361bab8b48b1041ad740bb561b21aee in pairs(SellerHelper_AutoSellList) do SellerHelper_2e00ffac12aadb3a1fd865993ec505b9 = {}; SellerHelper_2e00ffac12aadb3a1fd865993ec505b9["name"] = SellerHelper_1f194f793e9150819d886c66d5bc23b5; SellerHelper_2e00ffac12aadb3a1fd865993ec505b9["icon"] = SellerHelper_2361bab8b48b1041ad740bb561b21aee["icon"]; SellerHelper_2e00ffac12aadb3a1fd865993ec505b9["count"] = SellerHelper_2361bab8b48b1041ad740bb561b21aee["count"]; SellerHelper_2e00ffac12aadb3a1fd865993ec505b9["price"] = SellerHelper_2361bab8b48b1041ad740bb561b21aee["price"]; SellerHelper_2e00ffac12aadb3a1fd865993ec505b9["quality"] = SellerHelper_2361bab8b48b1041ad740bb561b21aee["quality"]; table.insert(SellerHelper_7791e0406167410020e5d23e998262f1, SellerHelper_2e00ffac12aadb3a1fd865993ec505b9); end end end end function SellerHelper_CollapseHeader(SellerHelper_d7284badcef25da2d384806a56a36197) if ( SellerHelper_d7284badcef25da2d384806a56a36197 == 0 ) then local __index; for __index in pairs(SellerHelper_7791e0406167410020e5d23e998262f1) do if ( SellerHelper_7791e0406167410020e5d23e998262f1[__index]["header"] ) then local SellerHelper_1f194f793e9150819d886c66d5bc23b5 = SellerHelper_79565399380689e9328a491897ebbe1a(__index); SellerHelper_ac64ce3b65b6736e55d5eebb1bbc5e38[SellerHelper_1f194f793e9150819d886c66d5bc23b5] = 1; end end else local SellerHelper_1f194f793e9150819d886c66d5bc23b5, SellerHelper_bd58786d94a7654001104ccaba82bfed = SellerHelper_79565399380689e9328a491897ebbe1a(SellerHelper_d7284badcef25da2d384806a56a36197); if ( SellerHelper_bd58786d94a7654001104ccaba82bfed ) then SellerHelper_ac64ce3b65b6736e55d5eebb1bbc5e38[SellerHelper_1f194f793e9150819d886c66d5bc23b5] = 1; end end SellerHelper_c085327b81635de930c56021ae8b42ab(); end function SellerHelper_ExpandHeader(SellerHelper_d7284badcef25da2d384806a56a36197) if ( SellerHelper_d7284badcef25da2d384806a56a36197 == 0 ) then SellerHelper_ac64ce3b65b6736e55d5eebb1bbc5e38 = {}; else local SellerHelper_1f194f793e9150819d886c66d5bc23b5, SellerHelper_bd58786d94a7654001104ccaba82bfed = SellerHelper_79565399380689e9328a491897ebbe1a(SellerHelper_d7284badcef25da2d384806a56a36197); if ( SellerHelper_bd58786d94a7654001104ccaba82bfed ) then SellerHelper_ac64ce3b65b6736e55d5eebb1bbc5e38[SellerHelper_1f194f793e9150819d886c66d5bc23b5] = nil; end end SellerHelper_c085327b81635de930c56021ae8b42ab(); end function SellerHelper_dc9491265f0380fade93d88e9491df4d(SellerHelper_1f194f793e9150819d886c66d5bc23b5, SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f) if (SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f == 0) then if (SellerHelper_b2ad00f99ad778081c12c273cf1a2dde) then if (SellerHelper_5184b2808274d65c971e5768d675f125 and SellerHelper_83b9aa4a8b60c84adcb5afd475dea0b1[SellerHelper_1f194f793e9150819d886c66d5bc23b5]) then return false; end if (SellerHelper_f34319f4a82fcc8de70fa0a07e9714b3 and SellerHelper_736750c1332bc975f3cc046d1be5e554[SellerHelper_1f194f793e9150819d886c66d5bc23b5]) then return false; end return true; end elseif (SellerHelper_AutoSellList[SellerHelper_1f194f793e9150819d886c66d5bc23b5]) then return true; end return false; end function SellerHelper_ffc6f36e205c615c838d2b0370235e96(SellerHelper_96ec47e10d09a5d0491fe767488c7fab, SellerHelper_5690c3a7efc9d7d57a9a8567658fcf5d, SellerHelper_e54ec4f67fb7705c3bc9a361838b5d01) local SellerHelper_15ad1e501e228eb80be1cc7800ab967d = GetContainerItemLink(SellerHelper_96ec47e10d09a5d0491fe767488c7fab, SellerHelper_5690c3a7efc9d7d57a9a8567658fcf5d); if (SellerHelper_15ad1e501e228eb80be1cc7800ab967d) then local SellerHelper_1f194f793e9150819d886c66d5bc23b5, SellerHelper_15ad1e501e228eb80be1cc7800ab967d, SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f, SellerHelper_5b2b9385dc5869461473771f275680cd, SellerHelper_0db5ab7591386d733b59a51d951e85d0, SellerHelper_93d846d0f1d4a30fd23de1c033b0a0ab, SellerHelper_101530567acd38edafbca0b9a62d647b, SellerHelper_96740f5a57dad2b0bc9410bc76c32e26, SellerHelper_f5cb07751fccdf339be4192634943a73, SellerHelper_9248008bbb6d0ee7ce13f6ee45680051 = GetItemInfo(GetContainerItemLink(SellerHelper_96ec47e10d09a5d0491fe767488c7fab, SellerHelper_5690c3a7efc9d7d57a9a8567658fcf5d)); if (SellerHelper_e54ec4f67fb7705c3bc9a361838b5d01) then return SellerHelper_1f194f793e9150819d886c66d5bc23b5; else local _, SellerHelper_3f50417fb16be9b1078eb68d24fa9c26 = GetContainerItemInfo(SellerHelper_96ec47e10d09a5d0491fe767488c7fab, SellerHelper_5690c3a7efc9d7d57a9a8567658fcf5d); local SellerHelper_153c09d58f6a5f5b4e49d6f46f5b1395 = SellerHelper_50cf45b94a10b7bdc8ae915538dd90d6(SellerHelper_96ec47e10d09a5d0491fe767488c7fab, SellerHelper_5690c3a7efc9d7d57a9a8567658fcf5d); return SellerHelper_1f194f793e9150819d886c66d5bc23b5, SellerHelper_9248008bbb6d0ee7ce13f6ee45680051, SellerHelper_153c09d58f6a5f5b4e49d6f46f5b1395, SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f, SellerHelper_3f50417fb16be9b1078eb68d24fa9c26; end end end function SellerHelper_39fe79b7a363e068ea5f1634f9bd086f(SellerHelper_26680bc9dbe567f417efe78d31655797) SellerHelper_31e5a0db12dd55bae58bbaa9d0eec088 = {}; SellerHelper_7791e0406167410020e5d23e998262f1 = {}; local SellerHelper_53deb98915b6ed554816b3579eb8b299 = {}; local SellerHelper_1f194f793e9150819d886c66d5bc23b5, SellerHelper_9248008bbb6d0ee7ce13f6ee45680051, SellerHelper_153c09d58f6a5f5b4e49d6f46f5b1395, SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f, SellerHelper_3f50417fb16be9b1078eb68d24fa9c26; for SellerHelper_96ec47e10d09a5d0491fe767488c7fab = 0, NUM_BAG_FRAMES, 1 do local SellerHelper_ac9c41ad14396e03f5c5d6bf1534eaed = GetContainerNumSlots(SellerHelper_96ec47e10d09a5d0491fe767488c7fab); if (SellerHelper_ac9c41ad14396e03f5c5d6bf1534eaed and SellerHelper_ac9c41ad14396e03f5c5d6bf1534eaed > 0) then for SellerHelper_5690c3a7efc9d7d57a9a8567658fcf5d =SellerHelper_ac9c41ad14396e03f5c5d6bf1534eaed, 1, -1 do SellerHelper_1f194f793e9150819d886c66d5bc23b5, SellerHelper_9248008bbb6d0ee7ce13f6ee45680051, SellerHelper_153c09d58f6a5f5b4e49d6f46f5b1395, SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f, SellerHelper_3f50417fb16be9b1078eb68d24fa9c26 = SellerHelper_ffc6f36e205c615c838d2b0370235e96(SellerHelper_96ec47e10d09a5d0491fe767488c7fab, SellerHelper_5690c3a7efc9d7d57a9a8567658fcf5d, false); if (SellerHelper_1f194f793e9150819d886c66d5bc23b5) then if (SellerHelper_26680bc9dbe567f417efe78d31655797) then if (SellerHelper_dc9491265f0380fade93d88e9491df4d(SellerHelper_1f194f793e9150819d886c66d5bc23b5, SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f) and SellerHelper_153c09d58f6a5f5b4e49d6f46f5b1395 > 0) then if ( MerchantFrame:IsVisible() and not SellerHelper_f60965c86fccd81e8c42e13f66ae86cd ) then UseContainerItem(SellerHelper_96ec47e10d09a5d0491fe767488c7fab, SellerHelper_5690c3a7efc9d7d57a9a8567658fcf5d); SellerHelper_a4ed2c6153d1a73ae298b67f0bcbabce:Print(string.format(SellerHelper_dbd5ea9bb789fc00cb59bb4cc2d1f71b, SellerHelper_1f194f793e9150819d886c66d5bc23b5, SellerHelper_20b9ea8773553d7b7fc3d0570f339246(SellerHelper_153c09d58f6a5f5b4e49d6f46f5b1395))); end else if (SellerHelper_1f194f793e9150819d886c66d5bc23b5 and SellerHelper_9248008bbb6d0ee7ce13f6ee45680051 and SellerHelper_3f50417fb16be9b1078eb68d24fa9c26 and SellerHelper_153c09d58f6a5f5b4e49d6f46f5b1395 and SellerHelper_153c09d58f6a5f5b4e49d6f46f5b1395 > 0) then SellerHelper_153c09d58f6a5f5b4e49d6f46f5b1395 = SellerHelper_153c09d58f6a5f5b4e49d6f46f5b1395 / SellerHelper_3f50417fb16be9b1078eb68d24fa9c26; SellerHelper_67eacaeaebcaf5c5fbbfed0aaa269c0e(SellerHelper_53deb98915b6ed554816b3579eb8b299, SellerHelper_1f194f793e9150819d886c66d5bc23b5, SellerHelper_9248008bbb6d0ee7ce13f6ee45680051, SellerHelper_3f50417fb16be9b1078eb68d24fa9c26, SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f, SellerHelper_153c09d58f6a5f5b4e49d6f46f5b1395); end end else if (SellerHelper_1f194f793e9150819d886c66d5bc23b5 and SellerHelper_9248008bbb6d0ee7ce13f6ee45680051 and SellerHelper_3f50417fb16be9b1078eb68d24fa9c26 and SellerHelper_153c09d58f6a5f5b4e49d6f46f5b1395 and SellerHelper_153c09d58f6a5f5b4e49d6f46f5b1395 > 0) then SellerHelper_153c09d58f6a5f5b4e49d6f46f5b1395 = SellerHelper_153c09d58f6a5f5b4e49d6f46f5b1395 / SellerHelper_3f50417fb16be9b1078eb68d24fa9c26; SellerHelper_67eacaeaebcaf5c5fbbfed0aaa269c0e(SellerHelper_53deb98915b6ed554816b3579eb8b299, SellerHelper_1f194f793e9150819d886c66d5bc23b5, SellerHelper_9248008bbb6d0ee7ce13f6ee45680051, SellerHelper_3f50417fb16be9b1078eb68d24fa9c26, SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f, SellerHelper_153c09d58f6a5f5b4e49d6f46f5b1395); end end end end end end SellerHelper_31e5a0db12dd55bae58bbaa9d0eec088 = SellerHelper_53deb98915b6ed554816b3579eb8b299; SellerHelper_c085327b81635de930c56021ae8b42ab(); end function SellerHelper_ee69a130e7dd49ae2c9aff17ae0adb79() local __index; local SellerHelper_3f50417fb16be9b1078eb68d24fa9c26 = 0; for __index, SellerHelper_2361bab8b48b1041ad740bb561b21aee in pairs(SellerHelper_7791e0406167410020e5d23e998262f1) do SellerHelper_3f50417fb16be9b1078eb68d24fa9c26 = SellerHelper_3f50417fb16be9b1078eb68d24fa9c26 + 1; end return SellerHelper_3f50417fb16be9b1078eb68d24fa9c26; end function SellerHelper_79565399380689e9328a491897ebbe1a(__index) if ( not SellerHelper_7791e0406167410020e5d23e998262f1[__index] ) then return; end local SellerHelper_1f194f793e9150819d886c66d5bc23b5; local SellerHelper_bd58786d94a7654001104ccaba82bfed; local SellerHelper_07f389c707dd8c0179da4f0fd4e323e6; local SellerHelper_51bbc6646cac6748cc62569220600b52; local SellerHelper_3f50417fb16be9b1078eb68d24fa9c26; local SellerHelper_153c09d58f6a5f5b4e49d6f46f5b1395; local SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f; SellerHelper_1f194f793e9150819d886c66d5bc23b5 = SellerHelper_7791e0406167410020e5d23e998262f1[__index]["name"]; SellerHelper_bd58786d94a7654001104ccaba82bfed = SellerHelper_7791e0406167410020e5d23e998262f1[__index]["header"]; SellerHelper_9325045d34c8f750ba82fafceb0f981e = SellerHelper_7791e0406167410020e5d23e998262f1[__index]["expanded"]; SellerHelper_51bbc6646cac6748cc62569220600b52 = SellerHelper_7791e0406167410020e5d23e998262f1[__index]["icon"]; SellerHelper_3f50417fb16be9b1078eb68d24fa9c26 = SellerHelper_7791e0406167410020e5d23e998262f1[__index]["count"]; SellerHelper_153c09d58f6a5f5b4e49d6f46f5b1395 = SellerHelper_7791e0406167410020e5d23e998262f1[__index]["price"]; if ( SellerHelper_bd58786d94a7654001104ccaba82bfed ) then SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f = SellerHelper_7791e0406167410020e5d23e998262f1[__index]["color"]; else SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f = SellerHelper_7791e0406167410020e5d23e998262f1[__index]["quality"]; end return SellerHelper_1f194f793e9150819d886c66d5bc23b5, SellerHelper_bd58786d94a7654001104ccaba82bfed, SellerHelper_9325045d34c8f750ba82fafceb0f981e, SellerHelper_51bbc6646cac6748cc62569220600b52, SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f, SellerHelper_3f50417fb16be9b1078eb68d24fa9c26, SellerHelper_153c09d58f6a5f5b4e49d6f46f5b1395; end function SellerHelper_Update() local SellerHelper_b7f0e0107e2c8b96e78550265859f2e5 = SellerHelper_ee69a130e7dd49ae2c9aff17ae0adb79(); local SellerHelper_98b436aae97b9941de81152428c81208 = FauxScrollFrame_GetOffset(SellerHelperListScrollFrame) + 1; local __index = 1; for SellerHelper_e914904fab9d05d3f54d52bfc31a0f3f = SellerHelper_98b436aae97b9941de81152428c81208, SellerHelper_98b436aae97b9941de81152428c81208 + SellerHelper_433ed5aa4fa554dc1e4f0d58dd999a0a - 1 do if ( SellerHelper_e914904fab9d05d3f54d52bfc31a0f3f <= SellerHelper_b7f0e0107e2c8b96e78550265859f2e5 ) then SellerHelper_4984ccfd34962510bfb20a43b7d3dc05(__index, SellerHelper_e914904fab9d05d3f54d52bfc31a0f3f, SellerHelper_b7f0e0107e2c8b96e78550265859f2e5); else break; end __index = __index + 1; end SellerHelperFrameCollapseAllButton.isExpanded = 1; SellerHelperFrameCollapseAllButton:SetNormalTexture("Interface\\Buttons\\UI-MinusButton-Up"); for SellerHelper_e914904fab9d05d3f54d52bfc31a0f3f = 1, SellerHelper_b7f0e0107e2c8b96e78550265859f2e5 do local SellerHelper_8e472a6cc9210c695fafcc64d6c32787, SellerHelper_bd58786d94a7654001104ccaba82bfed, SellerHelper_fb589c8c57c15b2b8a06e4e9dd82804a = SellerHelper_79565399380689e9328a491897ebbe1a(SellerHelper_e914904fab9d05d3f54d52bfc31a0f3f); if ( SellerHelper_bd58786d94a7654001104ccaba82bfed ) then if ( not SellerHelper_fb589c8c57c15b2b8a06e4e9dd82804a ) then SellerHelperFrameCollapseAllButton.isExpanded = nil; SellerHelperFrameCollapseAllButton:SetNormalTexture("Interface\\Buttons\\UI-PlusButton-Up"); break; end end end for SellerHelper_e914904fab9d05d3f54d52bfc31a0f3f = __index, SellerHelper_433ed5aa4fa554dc1e4f0d58dd999a0a do getglobal("SellerHelperItem"..SellerHelper_e914904fab9d05d3f54d52bfc31a0f3f):Hide(); getglobal("SellerHelperLabel"..SellerHelper_e914904fab9d05d3f54d52bfc31a0f3f):Hide(); end FauxScrollFrame_Update(SellerHelperListScrollFrame, SellerHelper_b7f0e0107e2c8b96e78550265859f2e5, SellerHelper_433ed5aa4fa554dc1e4f0d58dd999a0a, SellerHelper_29987f962b37666dd9370ccf59d8c431 ); end function SellerHelper_4984ccfd34962510bfb20a43b7d3dc05(SellerHelper_4ebb33fe1a91777ac0e40216c245fdc6, SellerHelper_d7284badcef25da2d384806a56a36197, SellerHelper_fb75bc90bbbced17c01073550138651e) local SellerHelper_1f194f793e9150819d886c66d5bc23b5, SellerHelper_bd58786d94a7654001104ccaba82bfed, SellerHelper_fb589c8c57c15b2b8a06e4e9dd82804a, SellerHelper_51bbc6646cac6748cc62569220600b52, SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f, SellerHelper_3f50417fb16be9b1078eb68d24fa9c26, SellerHelper_153c09d58f6a5f5b4e49d6f46f5b1395 = SellerHelper_79565399380689e9328a491897ebbe1a(SellerHelper_d7284badcef25da2d384806a56a36197); local SellerHelper_c849af697908d71da9fcd029e49e1761 = getglobal("SellerHelperItem"..SellerHelper_4ebb33fe1a91777ac0e40216c245fdc6); local SellerHelper_0758ea0b1555cf4b39b738c5fcd15be8 = getglobal(SellerHelper_c849af697908d71da9fcd029e49e1761:GetName().."ItemIconTexture"); local SellerHelper_1d87702d483140724d7dadab6e0b0e4c = getglobal(SellerHelper_c849af697908d71da9fcd029e49e1761:GetName().."Name"); local SellerHelper_e92be00eafc11562d2cc29c723b2b467 = getglobal(SellerHelper_c849af697908d71da9fcd029e49e1761:GetName().."ItemCount"); local SellerHelper_5bb26e4710b1d0df6da03a441a4a35f6 = getglobal(SellerHelper_c849af697908d71da9fcd029e49e1761:GetName().."Money"); local SellerHelper_c87a80f2abe53e8b17226fedfd2c599e = getglobal("SellerHelperLabel"..SellerHelper_4ebb33fe1a91777ac0e40216c245fdc6); if ( SellerHelper_1f194f793e9150819d886c66d5bc23b5 == "" ) then SellerHelper_c849af697908d71da9fcd029e49e1761:Hide(); SellerHelper_c87a80f2abe53e8b17226fedfd2c599e:Hide(); end if ( SellerHelper_bd58786d94a7654001104ccaba82bfed ) then SellerHelper_c87a80f2abe53e8b17226fedfd2c599e:Show(); SellerHelper_c87a80f2abe53e8b17226fedfd2c599e:SetText(SellerHelper_1f194f793e9150819d886c66d5bc23b5, SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f.r/255, SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f.g/255, SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f.b/255); SellerHelper_c87a80f2abe53e8b17226fedfd2c599e.itemIndex = SellerHelper_d7284badcef25da2d384806a56a36197; SellerHelper_c849af697908d71da9fcd029e49e1761:Hide(); local SellerHelper_1f07aaf496fd15582e110c4b2364dc62 = getglobal("SellerHelperLabel"..SellerHelper_4ebb33fe1a91777ac0e40216c245fdc6.."NormalTexture"); if ( SellerHelper_fb589c8c57c15b2b8a06e4e9dd82804a ) then SellerHelper_c87a80f2abe53e8b17226fedfd2c599e:SetNormalTexture("Interface\\Buttons\\UI-MinusButton-Up"); SellerHelper_c87a80f2abe53e8b17226fedfd2c599e.isExpanded = 1; else SellerHelper_c87a80f2abe53e8b17226fedfd2c599e:SetNormalTexture("Interface\\Buttons\\UI-PlusButton-Up"); SellerHelper_c87a80f2abe53e8b17226fedfd2c599e.isExpanded = nil; end return; else SellerHelper_c87a80f2abe53e8b17226fedfd2c599e:Hide(); SellerHelper_c849af697908d71da9fcd029e49e1761:Show(); end SellerHelper_c849af697908d71da9fcd029e49e1761.itemIndex = SellerHelper_d7284badcef25da2d384806a56a36197; SellerHelper_0758ea0b1555cf4b39b738c5fcd15be8:SetTexture(SellerHelper_51bbc6646cac6748cc62569220600b52); SellerHelper_1d87702d483140724d7dadab6e0b0e4c:SetText(SellerHelper_1f194f793e9150819d886c66d5bc23b5); SellerHelper_1d87702d483140724d7dadab6e0b0e4c:SetTextColor(SellerHelper_b2934d26ac4ac33a460ee88438199323[SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f].r/255, SellerHelper_b2934d26ac4ac33a460ee88438199323[SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f].g/255, SellerHelper_b2934d26ac4ac33a460ee88438199323[SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f].b/255); if ( SellerHelper_3f50417fb16be9b1078eb68d24fa9c26 > 1 ) then SellerHelper_e92be00eafc11562d2cc29c723b2b467:SetText(SellerHelper_3f50417fb16be9b1078eb68d24fa9c26); else SellerHelper_e92be00eafc11562d2cc29c723b2b467:SetText(""); end MoneyFrame_Update(SellerHelper_5bb26e4710b1d0df6da03a441a4a35f6:GetName(), SellerHelper_153c09d58f6a5f5b4e49d6f46f5b1395*SellerHelper_3f50417fb16be9b1078eb68d24fa9c26); end function SellerItemButton_OnClick(self) local SellerHelper_d7284badcef25da2d384806a56a36197 = self.itemIndex; local SellerHelper_1f194f793e9150819d886c66d5bc23b5 = SellerHelper_79565399380689e9328a491897ebbe1a(SellerHelper_d7284badcef25da2d384806a56a36197); SellerHelper_e205e429d177472b51a3579e9e1c9684(SellerHelper_1f194f793e9150819d886c66d5bc23b5); SellerHelper_d268f454999a803b6b5aaa9eafeb4fe4(SellerHelper_1f194f793e9150819d886c66d5bc23b5); SellerHelper_c085327b81635de930c56021ae8b42ab(); SellerHelper_Update(); end function SellerHelper_e205e429d177472b51a3579e9e1c9684(SellerHelper_a7e918ced59f8351b3a92133d2c7768e) local SellerHelper_1f194f793e9150819d886c66d5bc23b5; for SellerHelper_96ec47e10d09a5d0491fe767488c7fab = 0, NUM_BAG_FRAMES, 1 do local SellerHelper_ac9c41ad14396e03f5c5d6bf1534eaed = GetContainerNumSlots(SellerHelper_96ec47e10d09a5d0491fe767488c7fab); if (SellerHelper_ac9c41ad14396e03f5c5d6bf1534eaed and SellerHelper_ac9c41ad14396e03f5c5d6bf1534eaed > 0) then for SellerHelper_5690c3a7efc9d7d57a9a8567658fcf5d = SellerHelper_ac9c41ad14396e03f5c5d6bf1534eaed, 1, -1 do SellerHelper_1f194f793e9150819d886c66d5bc23b5 = SellerHelper_ffc6f36e205c615c838d2b0370235e96(SellerHelper_96ec47e10d09a5d0491fe767488c7fab, SellerHelper_5690c3a7efc9d7d57a9a8567658fcf5d, true); if (SellerHelper_1f194f793e9150819d886c66d5bc23b5 == SellerHelper_a7e918ced59f8351b3a92133d2c7768e) then UseContainerItem(SellerHelper_96ec47e10d09a5d0491fe767488c7fab, SellerHelper_5690c3a7efc9d7d57a9a8567658fcf5d); end end end end end function SellerHelper_d268f454999a803b6b5aaa9eafeb4fe4(SellerHelper_1f194f793e9150819d886c66d5bc23b5) local __index; for __index = SellerHelper_b4d13aa01848e942c4cc4672e8714da5, SellerHelper_d3564a59a81b28f4da8a59ae889951e2 do if ( SellerHelper_31e5a0db12dd55bae58bbaa9d0eec088[__index] ) then if ( SellerHelper_31e5a0db12dd55bae58bbaa9d0eec088[__index][SellerHelper_1f194f793e9150819d886c66d5bc23b5] ) then SellerHelper_31e5a0db12dd55bae58bbaa9d0eec088[__index][SellerHelper_1f194f793e9150819d886c66d5bc23b5] = nil; for SellerHelper_e914904fab9d05d3f54d52bfc31a0f3f, SellerHelper_8d0644c92128c1ff68223fd74ba63b56 in pairs(SellerHelper_31e5a0db12dd55bae58bbaa9d0eec088[__index]) do return; end SellerHelper_31e5a0db12dd55bae58bbaa9d0eec088[__index] = nil; end end end end local SellerHelper_Eventer = BLibrary("BEvent"); function SellerHelperFrame_OnLoad() ModManagement_RegisterMod( "SellerHelper", "Interface\\Icons\\INV_Misc_Coin_02", MOD_SELLER_HELPER_TITLE, "", nil ); ModManagement_RegisterCheckBox( "SellerHelper", SELLER_HELPER_ENABLE_TEXT, nil, "EnableSellerHelper", 1, function (SellerHelper_7739b813d90aed43ab9d0eb84ec1c1ae) if ( SellerHelper_7739b813d90aed43ab9d0eb84ec1c1ae == 1 ) then SellHelper_Enable = 1; SellerHelper_Eventer:RegisterEvent("MERCHANT_SHOW", SellerHelperFrame_OnEvent); SellerHelper_Eventer:RegisterEvent("MERCHANT_CLOSED", SellerHelperFrame_OnEvent); SellerHelperTooltip:SetScript("OnTooltipAddMoney", SellerHelper_c5a2cde61a2517c7a30909912cb1e510); SellHelper_Button:Show(); else SellHelper_Enable = nil; SellerHelper_Eventer:UnregisterAllEvent(); SellHelper_Button:Hide(); end end ); ModManagement_RegisterCheckBox( "SellerHelper", SELLER_HELPER_AUTO_SELL_POOR_TEXT, nil, "AutoSellPoor", 1, function (SellerHelper_7739b813d90aed43ab9d0eb84ec1c1ae) if ( SellerHelper_7739b813d90aed43ab9d0eb84ec1c1ae == 1 ) then SellerHelper_b2ad00f99ad778081c12c273cf1a2dde = 1; else SellerHelper_b2ad00f99ad778081c12c273cf1a2dde = nil; end end, 1 ); ModManagement_RegisterCheckBox( "SellerHelper", SELLER_HELPER_KEEP_DARKMOON_ITEM_TEXT, nil, "KeepDarkMoonItem", 1, function (SellerHelper_7739b813d90aed43ab9d0eb84ec1c1ae) if (SellerHelper_7739b813d90aed43ab9d0eb84ec1c1ae == 1) then SellerHelper_5184b2808274d65c971e5768d675f125 = 1; else SellerHelper_5184b2808274d65c971e5768d675f125 = nil; end end, 1 ); ModManagement_RegisterCheckBox( "SellerHelper", SELLER_HELPER_KEEP_MINING_TOOL_TEXT, nil, "KeepMiningTool", 1, function (SellerHelper_7739b813d90aed43ab9d0eb84ec1c1ae) if (SellerHelper_7739b813d90aed43ab9d0eb84ec1c1ae == 1) then SellerHelper_f34319f4a82fcc8de70fa0a07e9714b3 = 1; else SellerHelper_f34319f4a82fcc8de70fa0a07e9714b3 = nil; end end, 1 ); end function SellerHelperFrame_OnEvent() if ( event == "MERCHANT_SHOW" ) then local SellerHelper_b38cf36bca2d5be52ee0b9d4c3dd8fde = BigFoot_GetModVariable("SellerHelper", "keepShow"); if ( SellerHelper_b38cf36bca2d5be52ee0b9d4c3dd8fde ) then SellerHelper_39fe79b7a363e068ea5f1634f9bd086f(true); SellerHelper_Update(); SellerHelperFrame_Show(); else SellerHelper_39fe79b7a363e068ea5f1634f9bd086f(true); end elseif ( event == "MERCHANT_CLOSED" ) then SellerHelperFrame:Hide(); end end function SellerHelper_c5a2cde61a2517c7a30909912cb1e510(self, amount) if (InRepairMode()) then return; end SellerHelper_0578af96a024f21f56a20439e6844571 = amount; end function SellerHelperFrame_Show() SellerHelperFrame:Show(); SellHelper_Button:SetText(SELLER_HELPER_HIDE_TEXT); BigFoot_SetModVariable("SellerHelper", "keepShow", 1); CloseAllBags(); SellerHelper_30b397836a502f55a547ab89a0c2c8f6 = OpenAllBags; OpenAllBags = function() end; BigFoot_DelayCall(function() OpenAllBags = SellerHelper_30b397836a502f55a547ab89a0c2c8f6; end, 0.5); end function SellerHelperFrame_Hide() SellerHelperFrame:Hide(); SellHelper_Button:SetText(SELLER_HELPER_SHOW_TEXT); BigFoot_SetModVariable("SellerHelper", "keepShow", nil); end function SellerHelperFrame_OnShow() if ( SellerHelper_22cf46a9266b3e828ae5e0513a4cff32 ) then SellerHelper_CollapseHeader(0); end end function SellerHelperItem_ShowTooltip(SellerHelper_2e00ffac12aadb3a1fd865993ec505b9) local SellerHelper_1f194f793e9150819d886c66d5bc23b5; for SellerHelper_96ec47e10d09a5d0491fe767488c7fab = 0, NUM_BAG_FRAMES, 1 do local SellerHelper_ac9c41ad14396e03f5c5d6bf1534eaed = GetContainerNumSlots(SellerHelper_96ec47e10d09a5d0491fe767488c7fab); if (SellerHelper_ac9c41ad14396e03f5c5d6bf1534eaed and SellerHelper_ac9c41ad14396e03f5c5d6bf1534eaed > 0) then for SellerHelper_5690c3a7efc9d7d57a9a8567658fcf5d =SellerHelper_ac9c41ad14396e03f5c5d6bf1534eaed, 1, -1 do SellerHelper_1f194f793e9150819d886c66d5bc23b5 = SellerHelper_ffc6f36e205c615c838d2b0370235e96(SellerHelper_96ec47e10d09a5d0491fe767488c7fab, SellerHelper_5690c3a7efc9d7d57a9a8567658fcf5d, true); if ( SellerHelper_1f194f793e9150819d886c66d5bc23b5 == SellerHelper_2e00ffac12aadb3a1fd865993ec505b9 ) then GameTooltip:SetBagItem(SellerHelper_96ec47e10d09a5d0491fe767488c7fab, SellerHelper_5690c3a7efc9d7d57a9a8567658fcf5d); return; end end end end end function SellerItemButton_OnEnter(self) local SellerHelper_2e00ffac12aadb3a1fd865993ec505b9 = getglobal(self:GetName().."Item"); GameTooltip:SetOwner(SellerHelper_2e00ffac12aadb3a1fd865993ec505b9, "ANCHOR_LEFT"); local SellerHelper_1f194f793e9150819d886c66d5bc23b5, SellerHelper_bd58786d94a7654001104ccaba82bfed, SellerHelper_fb589c8c57c15b2b8a06e4e9dd82804a, SellerHelper_51bbc6646cac6748cc62569220600b52, SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f, SellerHelper_3f50417fb16be9b1078eb68d24fa9c26, SellerHelper_153c09d58f6a5f5b4e49d6f46f5b1395 = SellerHelper_79565399380689e9328a491897ebbe1a(self.itemIndex); if ( SellerHelper_1f194f793e9150819d886c66d5bc23b5 and not SellerHelper_bd58786d94a7654001104ccaba82bfed ) then SellerHelperItem_ShowTooltip(SellerHelper_1f194f793e9150819d886c66d5bc23b5); local i = 1; if (getglobal("GameTooltipMoneyFrame"..i)) then MoneyFrame_Update("GameTooltipMoneyFrame" .. i, SellerHelper_153c09d58f6a5f5b4e49d6f46f5b1395*SellerHelper_3f50417fb16be9b1078eb68d24fa9c26); end GameTooltip:Show(); end end function SellerHelperItem_OnEnter(self) GameTooltip:SetOwner(self, "ANCHOR_LEFT"); local SellerHelper_1f194f793e9150819d886c66d5bc23b5, SellerHelper_bd58786d94a7654001104ccaba82bfed, SellerHelper_fb589c8c57c15b2b8a06e4e9dd82804a, SellerHelper_51bbc6646cac6748cc62569220600b52, SellerHelper_5fb35c5c169c804bc82bd7f93ad8e32f, SellerHelper_3f50417fb16be9b1078eb68d24fa9c26, SellerHelper_153c09d58f6a5f5b4e49d6f46f5b1395 = SellerHelper_79565399380689e9328a491897ebbe1a(self:GetParent().itemIndex); SellerHelperItem_ShowTooltip(SellerHelper_1f194f793e9150819d886c66d5bc23b5); local i = 1; if (getglobal("GameTooltipMoneyFrame"..i)) then MoneyFrame_Update("GameTooltipMoneyFrame" .. i, SellerHelper_153c09d58f6a5f5b4e49d6f46f5b1395*SellerHelper_3f50417fb16be9b1078eb68d24fa9c26); end GameTooltip:Show(); end function SellerHelperItem_OnLeave(self) GameTooltip:Hide(); end function SellerHelperFrame_OnHide() end function SellerHelperItem_OnClick(self, button) local SellerHelper_2e00ffac12aadb3a1fd865993ec505b9 = SellerHelper_7791e0406167410020e5d23e998262f1[self:GetParent().itemIndex]; if ( SellerHelper_AutoSellList[SellerHelper_2e00ffac12aadb3a1fd865993ec505b9["name"]] ) then StaticPopupDialogs["AUTOSELL_REMOVE_ITEM"].context = SellerHelper_2e00ffac12aadb3a1fd865993ec505b9; StaticPopup_Show("AUTOSELL_REMOVE_ITEM"); else StaticPopupDialogs["AUTOSELL_ADD_ITEM"].context = SellerHelper_2e00ffac12aadb3a1fd865993ec505b9; StaticPopup_Show("AUTOSELL_ADD_ITEM"); end end function SellerHelper_fc344f6b0eb7958de65eab08097aedae() local SellerHelper_2e00ffac12aadb3a1fd865993ec505b9 = StaticPopupDialogs["AUTOSELL_ADD_ITEM"].context; SellerHelper_AutoSellList[SellerHelper_2e00ffac12aadb3a1fd865993ec505b9["name"]] = SellerHelper_2e00ffac12aadb3a1fd865993ec505b9; SellerHelper_39fe79b7a363e068ea5f1634f9bd086f(); SellerHelper_Update(); end function SellerHelper_9d9b7a69f49f6a037c9785362ca46a17() local SellerHelper_2e00ffac12aadb3a1fd865993ec505b9 = StaticPopupDialogs["AUTOSELL_REMOVE_ITEM"].context; SellerHelper_AutoSellList[SellerHelper_2e00ffac12aadb3a1fd865993ec505b9["name"]] = nil; SellerHelper_39fe79b7a363e068ea5f1634f9bd086f(); SellerHelper_Update(); end function SellerHelper_OnScroll(self, offset) FauxScrollFrame_OnVerticalScroll(self, offset, SellerHelper_29987f962b37666dd9370ccf59d8c431, SellerHelper_Update) end function SellHelper_Button_OnClick() if ( SellerHelperFrame:IsVisible() ) then SellerHelperFrame_Hide(); else SellerHelper_39fe79b7a363e068ea5f1634f9bd086f(true); SellerHelper_Update(); SellerHelperFrame_Show(); end end function SellerHelper_20b9ea8773553d7b7fc3d0570f339246(SellerHelper_2361bab8b48b1041ad740bb561b21aee) local SellerHelper_f4e13e8ecf20422833dd2d694a22bf40 = tonumber(SellerHelper_2361bab8b48b1041ad740bb561b21aee); local SellerHelper_c073decd77f86a53128a189abe1f48ec = ""; if ( SellerHelper_f4e13e8ecf20422833dd2d694a22bf40 == nil ) then return nil; end local SellerHelper_e8b199d6656a0d100a2cef18cd77aef5 = math.floor(SellerHelper_f4e13e8ecf20422833dd2d694a22bf40/10000); SellerHelper_f4e13e8ecf20422833dd2d694a22bf40 = SellerHelper_f4e13e8ecf20422833dd2d694a22bf40 - SellerHelper_e8b199d6656a0d100a2cef18cd77aef5*10000; local SellerHelper_24a4201c549bfbd7ba558ebfca17c262 = math.floor(SellerHelper_f4e13e8ecf20422833dd2d694a22bf40/100); SellerHelper_f4e13e8ecf20422833dd2d694a22bf40 = SellerHelper_f4e13e8ecf20422833dd2d694a22bf40 - SellerHelper_24a4201c549bfbd7ba558ebfca17c262*100; local SellerHelper_1212036899db090a683c1f070e6c4196 = SellerHelper_f4e13e8ecf20422833dd2d694a22bf40; if ( SellerHelper_e8b199d6656a0d100a2cef18cd77aef5 > 0 ) then SellerHelper_c073decd77f86a53128a189abe1f48ec = SellerHelper_e8b199d6656a0d100a2cef18cd77aef5 .. SellerHelper_5365f09cf64de4e4ef6f85d61a2c7c38; end if ( SellerHelper_24a4201c549bfbd7ba558ebfca17c262 > 0 ) then SellerHelper_c073decd77f86a53128a189abe1f48ec = SellerHelper_c073decd77f86a53128a189abe1f48ec .. SellerHelper_24a4201c549bfbd7ba558ebfca17c262 .. SellerHelper_64c2a722159954204326f6d805f5135b; end if ( SellerHelper_1212036899db090a683c1f070e6c4196 > 0 ) then SellerHelper_c073decd77f86a53128a189abe1f48ec = SellerHelper_c073decd77f86a53128a189abe1f48ec .. SellerHelper_1212036899db090a683c1f070e6c4196 .. SellerHelper_81cbcfba4fa033a3ccc8e05d05fb75e1; end return SellerHelper_c073decd77f86a53128a189abe1f48ec; end
