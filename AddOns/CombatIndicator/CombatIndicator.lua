 MAX_INDICATOR_COUNT = 6; COMBAT_INDICATOR_WARNING_RATE = 0.25; local CombatIndicator_ca0d0d660e1912c635e4a2af6bc9ff28 = 1; CombatIndicator_cf5ff49a21d6986f7b9dcaad7d7bcc34 = nil; CombatIndicator_93547ff907db480a53169659b98840e5 = nil; CombatIndicator_ef413ab4b5e7d6847b2480ed18f84886 = nil; CombatIndicator_Config = { EnableCombatIndicator = 1, ShowSpell = 1, LeaveCombat_Alert = 1, ShowComboPoint = 1 }; if ( GetLocale() == "zhCN" ) then MOD_COMBAT_INDICATOR_TITLE = "战斗指示"; COMBAT_INDICATOR_ENABLE_TEXT = "开启战斗指示器"; COMBAT_INDICATOR_ENABLE_MOB_SPELL = "显示怪物魔法信息"; COMBAT_INDICATOR_SHOW_COMBAT_LEAVE = "进入和离开战斗时进行提示"; COMBAT_INDICATOR_SHOW_COMBO_POINT = "显示盗贼连击点数"; COMBAT_INDICATOR_ENTER_COMBAT = "进入战斗"; COMBAT_INDICATOR_LEAVE_COMBAT = "脱离战斗"; COMBAT_INDICATOR_ENABLE_SCT = "使用SCT (更多功能)"; COMBAT_INDICATOR_SCT_SETTINGS = "功能设置..."; COMBAT_INDICATOR_COMBO_TEXT = "%d 连击"; CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f = { }; CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["MISS"] = "未击中!"; CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["EVADE"] = "闪避!"; CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["DODGE"] = "躲闪!"; CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["PARRY"] = "招架!"; CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["BLOCK"] = "格挡!"; CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["STUN"] = "眩晕!" CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["INTERRUPT"] = "打断!"; CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["IMMUNE"] = "免疫!"; CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["RESIST"] = "抵抗!"; CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["ABSORB"] = "吸收!"; CombatIndicator_0e0825a98a765bb3b49eec7512df8f66 = { }; CombatIndicator_0e0825a98a765bb3b49eec7512df8f66["NONE"] = nil; CombatIndicator_0e0825a98a765bb3b49eec7512df8f66["PHYSICAL"] = "未击中!"; CombatIndicator_0e0825a98a765bb3b49eec7512df8f66["RESIST"] = "抵抗!"; CombatIndicator_0e0825a98a765bb3b49eec7512df8f66["IMMUNE"] = "免疫!"; CombatIndicator_0e0825a98a765bb3b49eec7512df8f66["EVADED"] = "偏斜!"; CombatIndicator_0e0825a98a765bb3b49eec7512df8f66["DODGED"] = "躲闪!"; CombatIndicator_0e0825a98a765bb3b49eec7512df8f66["BLOCKED"] = "格挡!"; CombatIndicator_0e0825a98a765bb3b49eec7512df8f66["TEMPIMMUNE"] = "免疫!"; CombatIndicator_03fbb0c1461bd976a428131a8c7bbf16 = { ["CHAT_MSG_MONSTER_EMOTE"] = { CombatIndicator_a8858383576d7634cceceaf04a2ddb29 = "(.*)充满恐惧地想要转身逃跑！", CombatIndicator_ae27b57da3355d3813132c7a240a3a39 = 0, CombatIndicator_9241e39fd6a722e645ec9f43ea6cb401 = "开始逃跑！" }, ["CHAT_MSG_SPELL_HOSTILEPLAYER_DAMAGE"] = { CombatIndicator_a8858383576d7634cceceaf04a2ddb29 = "(.+)开始施放(.+)。", CombatIndicator_ae27b57da3355d3813132c7a240a3a39 = 0, CombatIndicator_b48c6d810781a0aaca7a1daf572bf0a2 = 1, CombatIndicator_25daf5581aad0afcae714dddb26e519c = 1 }, ["CHAT_MSG_SPELL_CREATURE_VS_CREATURE_DAMAGE"] = { CombatIndicator_a8858383576d7634cceceaf04a2ddb29 = "(.+)开始施放(.+)。", CombatIndicator_ae27b57da3355d3813132c7a240a3a39 = 0, CombatIndicator_b48c6d810781a0aaca7a1daf572bf0a2 = 1 }, ["CHAT_MSG_SPELL_HOSTILEPLAYER_BUFF"] = { CombatIndicator_a8858383576d7634cceceaf04a2ddb29 = "(.+)施放了(.+)图腾", CombatIndicator_ae27b57da3355d3813132c7a240a3a39 = 0, CombatIndicator_b48c6d810781a0aaca7a1daf572bf0a2 = 1, CombatIndicator_9241e39fd6a722e645ec9f43ea6cb401 = "图腾" }, ["CHAT_MSG_SPELL_CREATURE_VS_CREATURE_BUFF"] = { CombatIndicator_a8858383576d7634cceceaf04a2ddb29 = "(.+)开始施放(.+)。", CombatIndicator_ae27b57da3355d3813132c7a240a3a39 = 0, CombatIndicator_b48c6d810781a0aaca7a1daf572bf0a2 = 1 }, ["CHAT_MSG_SPELL_CREATURE_VS_CREATURE_DAMAGE"] = { CombatIndicator_a8858383576d7634cceceaf04a2ddb29 = "(.+)开始施放(.+)。", CombatIndicator_ae27b57da3355d3813132c7a240a3a39 = 0, CombatIndicator_b48c6d810781a0aaca7a1daf572bf0a2 = 1 } }; elseif (GetLocale() == "zhTW") then MOD_COMBAT_INDICATOR_TITLE = "戰鬥指示器"; COMBAT_INDICATOR_ENABLE_TEXT = "開啟戰鬥指示器"; COMBAT_INDICATOR_ENABLE_MOB_SPELL = "顯示怪物魔法訊息"; COMBAT_INDICATOR_SHOW_COMBAT_LEAVE = "離開戰鬥狀態時進行提示"; COMBAT_INDICATOR_SHOW_COMBO_POINT = "顯示盜賊連擊點數"; COMBAT_INDICATOR_ENABLE_SCT = "使用SCT (更多功能)"; COMBAT_INDICATOR_SCT_SETTINGS = "功能設置..."; COMBAT_INDICATOR_ENTER_COMBAT = "進入戰斗"; COMBAT_INDICATOR_LEAVE_COMBAT = "離開戰斗"; COMBAT_INDICATOR_COMBO_TEXT = "%d 連擊"; CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f = { }; CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["MISS"] = "未擊中!"; CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["EVADE"] = "閃避!"; CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["DODGE"] = "躲閃!"; CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["PARRY"] = "招架!"; CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["BLOCK"] = "格擋!"; CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["STUN"] = "眩暈!" CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["INTERRUPT"] = "打斷!"; CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["IMMUNE"] = "免疫!"; CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["RESIST"] = "抵抗!"; CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["ABSORB"] = "吸收!"; CombatIndicator_0e0825a98a765bb3b49eec7512df8f66 = { }; CombatIndicator_0e0825a98a765bb3b49eec7512df8f66["NONE"] = nil; CombatIndicator_0e0825a98a765bb3b49eec7512df8f66["PHYSICAL"] = "未擊中!"; CombatIndicator_0e0825a98a765bb3b49eec7512df8f66["RESIST"] = "抵抗!"; CombatIndicator_0e0825a98a765bb3b49eec7512df8f66["IMMUNE"] = "免疫!"; CombatIndicator_0e0825a98a765bb3b49eec7512df8f66["EVADED"] = "偏斜!"; CombatIndicator_0e0825a98a765bb3b49eec7512df8f66["DODGED"] = "躲閃!"; CombatIndicator_0e0825a98a765bb3b49eec7512df8f66["BLOCKED"] = "格擋!"; CombatIndicator_0e0825a98a765bb3b49eec7512df8f66["TEMPIMMUNE"] = "免疫!"; CombatIndicator_03fbb0c1461bd976a428131a8c7bbf16 = { ["CHAT_MSG_MONSTER_EMOTE"] = { CombatIndicator_a8858383576d7634cceceaf04a2ddb29 = "(.*)充满恐惧地想要转身逃跑！", CombatIndicator_ae27b57da3355d3813132c7a240a3a39 = 0, CombatIndicator_9241e39fd6a722e645ec9f43ea6cb401 = "开始逃跑！" }, ["CHAT_MSG_SPELL_HOSTILEPLAYER_DAMAGE"] = { CombatIndicator_a8858383576d7634cceceaf04a2ddb29 = "(.+)開始施放(.+)。", CombatIndicator_ae27b57da3355d3813132c7a240a3a39 = 0, CombatIndicator_b48c6d810781a0aaca7a1daf572bf0a2 = 1, CombatIndicator_25daf5581aad0afcae714dddb26e519c = 1 }, ["CHAT_MSG_SPELL_CREATURE_VS_CREATURE_DAMAGE"] = { CombatIndicator_a8858383576d7634cceceaf04a2ddb29 = "(.+)開始施放(.+)。", CombatIndicator_ae27b57da3355d3813132c7a240a3a39 = 0, CombatIndicator_b48c6d810781a0aaca7a1daf572bf0a2 = 1 }, ["CHAT_MSG_SPELL_HOSTILEPLAYER_BUFF"] = { CombatIndicator_a8858383576d7634cceceaf04a2ddb29 = "(.+)施放了(.+)圖騰", CombatIndicator_ae27b57da3355d3813132c7a240a3a39 = 0, CombatIndicator_b48c6d810781a0aaca7a1daf572bf0a2 = 1, CombatIndicator_9241e39fd6a722e645ec9f43ea6cb401 = "图腾" }, ["CHAT_MSG_SPELL_CREATURE_VS_CREATURE_BUFF"] = { CombatIndicator_a8858383576d7634cceceaf04a2ddb29 = "(.+)開始施放(.+)。", CombatIndicator_ae27b57da3355d3813132c7a240a3a39 = 0, CombatIndicator_b48c6d810781a0aaca7a1daf572bf0a2 = 1 }, ["CHAT_MSG_SPELL_CREATURE_VS_CREATURE_DAMAGE"] = { CombatIndicator_a8858383576d7634cceceaf04a2ddb29 = "(.+)開始施放(.+)。", CombatIndicator_ae27b57da3355d3813132c7a240a3a39 = 0, CombatIndicator_b48c6d810781a0aaca7a1daf572bf0a2 = 1 } }; else MOD_COMBAT_INDICATOR_TITLE = "Combat Indicator"; COMBAT_INDICATOR_ENABLE_TEXT = "Enable Combat Indicator"; COMBAT_INDICATOR_ENABLE_MOB_SPELL = "Show mob's spell"; COMBAT_INDICATOR_SHOW_COMBAT_LEAVE = "Notify me if leaving combat"; COMBAT_INDICATOR_SHOW_COMBO_POINT = "Show combo points"; COMBAT_INDICATOR_ENABLE_SCT = "USE SCT (...)"; COMBAT_INDICATOR_SCT_SETTINGS = "Options..."; COMBAT_INDICATOR_ENTER_COMBAT = "Enter Combat"; COMBAT_INDICATOR_LEAVE_COMBAT = "Leave Combat"; COMBAT_INDICATOR_COMBO_TEXT = "%d Combo"; CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f = { }; CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["MISS"] = "Miss!"; CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["EVADE"] = "Evade!"; CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["DODGE"] = "Dodge!"; CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["PARRY"] = "Parry!"; CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["BLOCK"] = "Block!"; CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["STUN"] = "Stun!" CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["INTERRUPT"] = "Interrupt!"; CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["IMMUNE"] = "Immune!"; CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["RESIST"] = "Resist!"; CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["ABSORB"] = "Absorb!"; CombatIndicator_0e0825a98a765bb3b49eec7512df8f66 = { }; CombatIndicator_0e0825a98a765bb3b49eec7512df8f66["NONE"] = nil; CombatIndicator_0e0825a98a765bb3b49eec7512df8f66["PHYSICAL"] = "Miss!"; CombatIndicator_0e0825a98a765bb3b49eec7512df8f66["RESIST"] = "Resist!"; CombatIndicator_0e0825a98a765bb3b49eec7512df8f66["IMMUNE"] = "Immune!"; CombatIndicator_0e0825a98a765bb3b49eec7512df8f66["EVADED"] = "Evade!"; CombatIndicator_0e0825a98a765bb3b49eec7512df8f66["DODGED"] = "Dodge!"; CombatIndicator_0e0825a98a765bb3b49eec7512df8f66["BLOCKED"] = "Blocked!"; CombatIndicator_0e0825a98a765bb3b49eec7512df8f66["TEMPIMMUNE"] = "Immune!"; CombatIndicator_03fbb0c1461bd976a428131a8c7bbf16 = { ["CHAT_MSG_MONSTER_EMOTE"] = { CombatIndicator_a8858383576d7634cceceaf04a2ddb29 = "(.+) attempts to run away in fear!", CombatIndicator_ae27b57da3355d3813132c7a240a3a39 = 0, CombatIndicator_9241e39fd6a722e645ec9f43ea6cb401 = "attempts to run away!" }, ["CHAT_MSG_SPELL_HOSTILEPLAYER_DAMAGE"] = { CombatIndicator_a8858383576d7634cceceaf04a2ddb29 = "(.+) begins to cast (.+)%.", CombatIndicator_ae27b57da3355d3813132c7a240a3a39 = 0, CombatIndicator_b48c6d810781a0aaca7a1daf572bf0a2 = 1, CombatIndicator_25daf5581aad0afcae714dddb26e519c = 1 }, ["CHAT_MSG_SPELL_CREATURE_VS_CREATURE_DAMAGE"] = { CombatIndicator_a8858383576d7634cceceaf04a2ddb29 = "(.+) begins to cast (.+)%.", CombatIndicator_ae27b57da3355d3813132c7a240a3a39 = 0, CombatIndicator_b48c6d810781a0aaca7a1daf572bf0a2 = 1 }, ["CHAT_MSG_SPELL_HOSTILEPLAYER_BUFF"] = { CombatIndicator_a8858383576d7634cceceaf04a2ddb29 = "(.+) casts (.+) Totem.", CombatIndicator_ae27b57da3355d3813132c7a240a3a39 = 0, CombatIndicator_b48c6d810781a0aaca7a1daf572bf0a2 = 1, CombatIndicator_9241e39fd6a722e645ec9f43ea6cb401 = "Totem" }, ["CHAT_MSG_SPELL_CREATURE_VS_CREATURE_BUFF"] = { CombatIndicator_a8858383576d7634cceceaf04a2ddb29 = "(.+) begins to cast (.+)%.", CombatIndicator_ae27b57da3355d3813132c7a240a3a39 = 0, CombatIndicator_b48c6d810781a0aaca7a1daf572bf0a2 = 1 }, ["CHAT_MSG_SPELL_CREATURE_VS_CREATURE_DAMAGE"] = { CombatIndicator_a8858383576d7634cceceaf04a2ddb29 = "(.+) begins to cast (.+)%.", CombatIndicator_ae27b57da3355d3813132c7a240a3a39 = 0, CombatIndicator_b48c6d810781a0aaca7a1daf572bf0a2 = 1 } }; end CombatIndicator_7c8f6a474919abae380f8a2b0f3eca0d = { }; CombatIndicator_7c8f6a474919abae380f8a2b0f3eca0d["MISS"] = { CombatIndicator_3ae1f2c4b38d5f7c356b4cdb7c6e4027 = 1.0, CombatIndicator_0f402d7ba502a47a51c410aee99b1ff1 = 1.0, CombatIndicator_a0a053cacf1c8c43346fdc3adb684cb7 = 1.0 }; CombatIndicator_7c8f6a474919abae380f8a2b0f3eca0d["EVADE"] = { CombatIndicator_3ae1f2c4b38d5f7c356b4cdb7c6e4027 = 1.0, CombatIndicator_0f402d7ba502a47a51c410aee99b1ff1 = 1.0, CombatIndicator_a0a053cacf1c8c43346fdc3adb684cb7 = 1.0 }; CombatIndicator_7c8f6a474919abae380f8a2b0f3eca0d["DODGE"] = { CombatIndicator_3ae1f2c4b38d5f7c356b4cdb7c6e4027 = 1.0, CombatIndicator_0f402d7ba502a47a51c410aee99b1ff1 = 1.0, CombatIndicator_a0a053cacf1c8c43346fdc3adb684cb7 = 1.0 }; CombatIndicator_7c8f6a474919abae380f8a2b0f3eca0d["PARRY"] = { CombatIndicator_3ae1f2c4b38d5f7c356b4cdb7c6e4027 = 1.0, CombatIndicator_0f402d7ba502a47a51c410aee99b1ff1 = 1.0, CombatIndicator_a0a053cacf1c8c43346fdc3adb684cb7 = 1.0 }; CombatIndicator_7c8f6a474919abae380f8a2b0f3eca0d["BLOCK"] = { CombatIndicator_3ae1f2c4b38d5f7c356b4cdb7c6e4027 = 1.0, CombatIndicator_0f402d7ba502a47a51c410aee99b1ff1 = 1.0, CombatIndicator_a0a053cacf1c8c43346fdc3adb684cb7 = 1.0 }; CombatIndicator_7c8f6a474919abae380f8a2b0f3eca0d["STUN"] = { CombatIndicator_3ae1f2c4b38d5f7c356b4cdb7c6e4027 = 1.0, CombatIndicator_0f402d7ba502a47a51c410aee99b1ff1 = 1.0, CombatIndicator_a0a053cacf1c8c43346fdc3adb684cb7 = 1.0 }; CombatIndicator_7c8f6a474919abae380f8a2b0f3eca0d["INTERRUPT"] = { CombatIndicator_3ae1f2c4b38d5f7c356b4cdb7c6e4027 = 1.0, CombatIndicator_0f402d7ba502a47a51c410aee99b1ff1 = 1.0, CombatIndicator_a0a053cacf1c8c43346fdc3adb684cb7 = 1.0 }; CombatIndicator_7c8f6a474919abae380f8a2b0f3eca0d["IMMUNE"] = { CombatIndicator_3ae1f2c4b38d5f7c356b4cdb7c6e4027 = 1.0, CombatIndicator_0f402d7ba502a47a51c410aee99b1ff1 = 1.0, CombatIndicator_a0a053cacf1c8c43346fdc3adb684cb7 = 1.0 }; CombatIndicator_7c8f6a474919abae380f8a2b0f3eca0d["RESIST"] = { CombatIndicator_3ae1f2c4b38d5f7c356b4cdb7c6e4027 = 1.0, CombatIndicator_0f402d7ba502a47a51c410aee99b1ff1 = 1.0, CombatIndicator_a0a053cacf1c8c43346fdc3adb684cb7 = 1.0 }; CombatIndicator_7c8f6a474919abae380f8a2b0f3eca0d["ABSORB"] = { CombatIndicator_3ae1f2c4b38d5f7c356b4cdb7c6e4027 = 1.0, CombatIndicator_0f402d7ba502a47a51c410aee99b1ff1 = 1.0, CombatIndicator_a0a053cacf1c8c43346fdc3adb684cb7 = 1.0 }; CombatIndicator_87f223aeb7df6d02f21d55ba551413a9 = { }; CombatIndicator_87f223aeb7df6d02f21d55ba551413a9["NONE"] = nil; CombatIndicator_87f223aeb7df6d02f21d55ba551413a9["PHYSICAL"] = { CombatIndicator_3ae1f2c4b38d5f7c356b4cdb7c6e4027 = 1.0, CombatIndicator_0f402d7ba502a47a51c410aee99b1ff1 = 1.0, CombatIndicator_a0a053cacf1c8c43346fdc3adb684cb7 = 1.0 }; CombatIndicator_87f223aeb7df6d02f21d55ba551413a9["RESIST"] = { CombatIndicator_3ae1f2c4b38d5f7c356b4cdb7c6e4027 = 1.0, CombatIndicator_0f402d7ba502a47a51c410aee99b1ff1 = 1.0, CombatIndicator_a0a053cacf1c8c43346fdc3adb684cb7 = 1.0 }; CombatIndicator_87f223aeb7df6d02f21d55ba551413a9["IMMUNE"] = { CombatIndicator_3ae1f2c4b38d5f7c356b4cdb7c6e4027 = 1.0, CombatIndicator_0f402d7ba502a47a51c410aee99b1ff1 = 1.0, CombatIndicator_a0a053cacf1c8c43346fdc3adb684cb7 = 1.0 }; CombatIndicator_87f223aeb7df6d02f21d55ba551413a9["EVADED"] = { CombatIndicator_3ae1f2c4b38d5f7c356b4cdb7c6e4027 = 1.0, CombatIndicator_0f402d7ba502a47a51c410aee99b1ff1 = 1.0, CombatIndicator_a0a053cacf1c8c43346fdc3adb684cb7 = 1.0 }; CombatIndicator_87f223aeb7df6d02f21d55ba551413a9["DODGED"] = { CombatIndicator_3ae1f2c4b38d5f7c356b4cdb7c6e4027 = 1.0, CombatIndicator_0f402d7ba502a47a51c410aee99b1ff1 = 1.0, CombatIndicator_a0a053cacf1c8c43346fdc3adb684cb7 = 1.0 }; CombatIndicator_87f223aeb7df6d02f21d55ba551413a9["BLOCKED"] = { CombatIndicator_3ae1f2c4b38d5f7c356b4cdb7c6e4027 = 1.0, CombatIndicator_0f402d7ba502a47a51c410aee99b1ff1 = 1.0, CombatIndicator_a0a053cacf1c8c43346fdc3adb684cb7 = 1.0 }; CombatIndicator_87f223aeb7df6d02f21d55ba551413a9["TEMPIMMUNE"] = { CombatIndicator_3ae1f2c4b38d5f7c356b4cdb7c6e4027 = 1.0, CombatIndicator_0f402d7ba502a47a51c410aee99b1ff1 = 1.0, CombatIndicator_a0a053cacf1c8c43346fdc3adb684cb7 = 1.0 }; CombatIndicator_c6a8418db9828a71354a7d1dfea40c94 = nil; CombatIndicator_565e8faf93000fdb9ea10346305e02b3 = nil; CombatIndicator_3107624f9eb54109670c63b75a1a1858 = nil; CombatIndicator_52f9387ef36385db298e862cf1f09673 = nil; local CombatIndicator_c1ae704e34706b696cf8a1cf5c9633f2 = { }; local CombatIndicator_Eventer = BLibrary("BEvent"); function CombatIndicator_d0e907aed57bb41c5a8133c1868ef38b(CombatIndicator_8983c60d66c8593ec7165ea9dbedb584) local CombatIndicator_e914904fab9d05d3f54d52bfc31a0f3f; for CombatIndicator_e914904fab9d05d3f54d52bfc31a0f3f = 1, 4, 1 do local CombatIndicator_e494428d2c96cc99ee54240c7b6fd54d = UnitName("party" .. CombatIndicator_e914904fab9d05d3f54d52bfc31a0f3f); if (CombatIndicator_8983c60d66c8593ec7165ea9dbedb584 == CombatIndicator_e494428d2c96cc99ee54240c7b6fd54d) then return 1; end end return nil; end function CombatIndicatorFrame_OnLoad(self) CombatIndicator_f0925d64d9039b2c90d4450ba6a9caff = bfGetLocalVariable; self:RegisterEvent("VARIABLES_LOADED"); for __index, CombatIndicator_2361bab8b48b1041ad740bb561b21aee in pairs(CombatIndicator_c1ae704e34706b696cf8a1cf5c9633f2) do if ( CombatIndicator_2361bab8b48b1041ad740bb561b21aee.CombatIndicator_db22ae5d4f86361d77d51283c5b0b7bd ) then local CombatIndicator_e0e85008d0859db6bb769f09cf1b7b30 = getglobal(CombatIndicator_2361bab8b48b1041ad740bb561b21aee.CombatIndicator_db22ae5d4f86361d77d51283c5b0b7bd); if ( CombatIndicator_e0e85008d0859db6bb769f09cf1b7b30 ) then CombatIndicator_2361bab8b48b1041ad740bb561b21aee.CombatIndicator_e0e85008d0859db6bb769f09cf1b7b30 = CombatIndicator_e0e85008d0859db6bb769f09cf1b7b30; end end end end function CombatIndicator_Enable(enabled) if (enabled) then if (not CombatIndicator_ef413ab4b5e7d6847b2480ed18f84886) then CombatIndicator_ef413ab4b5e7d6847b2480ed18f84886 = CombatFeedback_OnSpellMissEvent; CombatFeedback_OnSpellMissEvent = CombatIndicator_bcb1e11ddf2a70f15f1b23d3de0ba637; end CombatIndicator_Eventer:RegisterEvent("PLAYER_REGEN_ENABLED",CombatIndicatorFrame_OnEvent); CombatIndicator_Eventer:RegisterEvent("PLAYER_REGEN_DISABLED",CombatIndicatorFrame_OnEvent); CombatIndicator_Eventer:RegisterEvent("UNIT_COMBAT",CombatIndicatorFrame_OnEvent); CombatIndicator_Eventer:RegisterEvent("PLAYER_COMBO_POINTS",CombatIndicatorFrame_OnEvent); CombatIndicatorFrame_EnableShowSpell(1); else if (CombatIndicator_ef413ab4b5e7d6847b2480ed18f84886) then CombatFeedback_OnSpellMissEvent = CombatIndicator_ef413ab4b5e7d6847b2480ed18f84886; CombatIndicator_ef413ab4b5e7d6847b2480ed18f84886 = nil; end CombatIndicator_Eventer:UnregisterEvent("PLAYER_REGEN_ENABLED"); CombatIndicator_Eventer:UnregisterEvent("PLAYER_REGEN_DISABLED"); CombatIndicator_Eventer:UnregisterEvent("UNIT_COMBAT"); CombatIndicator_Eventer:UnregisterEvent("PLAYER_COMBO_POINTS"); CombatIndicatorFrame_EnableShowSpell(nil); end end function CombatIndicatorShowSpell_Enable(switch) if (switch) then CombatIndicator_Config.ShowSpell = true; else CombatIndicator_Config.ShowSpell = false; end end function CombatIndicatorLeaveCombat_Enable(switch) if (switch) then CombatIndicator_Config.LeaveCombat_Alert = true; else CombatIndicator_Config.LeaveCombat_Alert = false; end end function CombatIndicatorShowCombo_Enable(switch) if (switch) then CombatIndicator_Config.ShowComboPoint = true; else CombatIndicator_Config.ShowComboPoint = false; end end function CombatIndicatorFrame_EnableShowSpell(enabled) if (enabled) then for index in pairs(CombatIndicator_03fbb0c1461bd976a428131a8c7bbf16) do CombatIndicator_Eventer:RegisterEvent(index); end else for index in pairs(CombatIndicator_03fbb0c1461bd976a428131a8c7bbf16) do CombatIndicator_Eventer:UnregisterEvent(index); end end end function CombatIndicatorFrame_OnEvent(event, CombatIndicator_0e2babf2e3097eec96cf9280d1412ab5, CombatIndicator_00ae4bc475ffbcf97f789256a2e707de, CombatIndicator_6599f8c6a1b53d0212dfbab04e14e329, CombatIndicator_18bd17b74c56bfd23801044c9c9e8d4e, CombatIndicator_a29776f66159eb25625ce8ff4969048f, CombatIndicator_fe4d4227ea1d91e3a69c7b2a27e8150f) if( event and (strsub(event, 1, 15) == "CHAT_MSG_COMBAT" or strsub(event, 1, 14) == "CHAT_MSG_SPELL") or event == "CHAT_MSG_MONSTER_EMOTE" and PlayerFrame.inCombat ) then if (CombatIndicator_Config.ShowSpell) then local __index, CombatIndicator_2361bab8b48b1041ad740bb561b21aee; for __index, CombatIndicator_2361bab8b48b1041ad740bb561b21aee in pairs(CombatIndicator_03fbb0c1461bd976a428131a8c7bbf16) do if ( CombatIndicator_d0708241b607c9a9dd1953c812fadfb7 == __index ) then local CombatIndicator_34ebd5a15904b9caf228566ff45e7556 = {}; local CombatIndicator_6e4d0db7491d6883f86de390d20dbe5b, CombatIndicator_a2f3972c23a0aa3bd7fb0e9823d918f2; CombatIndicator_6e4d0db7491d6883f86de390d20dbe5b, CombatIndicator_a2f3972c23a0aa3bd7fb0e9823d918f2, CombatIndicator_34ebd5a15904b9caf228566ff45e7556[0], CombatIndicator_34ebd5a15904b9caf228566ff45e7556[1], CombatIndicator_34ebd5a15904b9caf228566ff45e7556[2], CombatIndicator_34ebd5a15904b9caf228566ff45e7556[3], CombatIndicator_34ebd5a15904b9caf228566ff45e7556[4] = string.find(CombatIndicator_0e2babf2e3097eec96cf9280d1412ab5, CombatIndicator_2361bab8b48b1041ad740bb561b21aee.CombatIndicator_a8858383576d7634cceceaf04a2ddb29); if ( CombatIndicator_6e4d0db7491d6883f86de390d20dbe5b ) then if ( CombatIndicator_2361bab8b48b1041ad740bb561b21aee.CombatIndicator_25daf5581aad0afcae714dddb26e519c ) then if ( not CombatIndicator_d0e907aed57bb41c5a8133c1868ef38b(CombatIndicator_34ebd5a15904b9caf228566ff45e7556[CombatIndicator_2361bab8b48b1041ad740bb561b21aee.CombatIndicator_ae27b57da3355d3813132c7a240a3a39]) ) then CombatIndicatorText_ShowSpell(CombatIndicator_34ebd5a15904b9caf228566ff45e7556[CombatIndicator_2361bab8b48b1041ad740bb561b21aee.CombatIndicator_b48c6d810781a0aaca7a1daf572bf0a2]); end elseif ( not CombatIndicator_2361bab8b48b1041ad740bb561b21aee.CombatIndicator_b48c6d810781a0aaca7a1daf572bf0a2 ) then CombatIndicatorText_ShowSpell(CombatIndicator_00ae4bc475ffbcf97f789256a2e707de..CombatIndicator_2361bab8b48b1041ad740bb561b21aee.CombatIndicator_9241e39fd6a722e645ec9f43ea6cb401); else CombatIndicatorText_ShowSpell(CombatIndicator_34ebd5a15904b9caf228566ff45e7556[CombatIndicator_2361bab8b48b1041ad740bb561b21aee.CombatIndicator_b48c6d810781a0aaca7a1daf572bf0a2]); end end end end end for __index, CombatIndicator_2361bab8b48b1041ad740bb561b21aee in pairs(CombatIndicator_c1ae704e34706b696cf8a1cf5c9633f2) do local CombatIndicator_6e4d0db7491d6883f86de390d20dbe5b, CombatIndicator_a2f3972c23a0aa3bd7fb0e9823d918f2; local CombatIndicator_34ebd5a15904b9caf228566ff45e7556 = { }; CombatIndicator_6e4d0db7491d6883f86de390d20dbe5b, CombatIndicator_a2f3972c23a0aa3bd7fb0e9823d918f2, CombatIndicator_34ebd5a15904b9caf228566ff45e7556[0], CombatIndicator_34ebd5a15904b9caf228566ff45e7556[1], CombatIndicator_34ebd5a15904b9caf228566ff45e7556[2], CombatIndicator_34ebd5a15904b9caf228566ff45e7556[3], CombatIndicator_34ebd5a15904b9caf228566ff45e7556[4] = string.find(CombatIndicator_0e2babf2e3097eec96cf9280d1412ab5, CombatIndicator_2361bab8b48b1041ad740bb561b21aee.CombatIndicator_a8858383576d7634cceceaf04a2ddb29); if ( CombatIndicator_6e4d0db7491d6883f86de390d20dbe5b ) then local CombatIndicator_e6955c64cf39bdb23dc86de1a9ec2117; if ( CombatIndicator_2361bab8b48b1041ad740bb561b21aee.CombatIndicator_e6955c64cf39bdb23dc86de1a9ec2117 ) then CombatIndicator_e6955c64cf39bdb23dc86de1a9ec2117 = CombatIndicator_2361bab8b48b1041ad740bb561b21aee.CombatIndicator_e6955c64cf39bdb23dc86de1a9ec2117; else if ( CombatIndicator_2361bab8b48b1041ad740bb561b21aee.CombatIndicator_7c039e42ccbb52e606d662dd4d7eb281 ) then CombatIndicator_e6955c64cf39bdb23dc86de1a9ec2117 = "+"..CombatIndicator_34ebd5a15904b9caf228566ff45e7556[CombatIndicator_2361bab8b48b1041ad740bb561b21aee.CombatIndicator_edd67b0754526d7987d33a1def79c18a]; else CombatIndicator_e6955c64cf39bdb23dc86de1a9ec2117 = "-"..CombatIndicator_34ebd5a15904b9caf228566ff45e7556[CombatIndicator_2361bab8b48b1041ad740bb561b21aee.CombatIndicator_edd67b0754526d7987d33a1def79c18a]; end end CombatIndicatorText_ShowText(CombatIndicator_e6955c64cf39bdb23dc86de1a9ec2117, CombatIndicator_2361bab8b48b1041ad740bb561b21aee.CombatIndicator_b368619f792f6db16858073f805f281f, CombatIndicator_2361bab8b48b1041ad740bb561b21aee.CombatIndicator_b48c6d810781a0aaca7a1daf572bf0a2, CombatIndicator_2361bab8b48b1041ad740bb561b21aee.CombatIndicator_7c039e42ccbb52e606d662dd4d7eb281, CombatIndicator_2361bab8b48b1041ad740bb561b21aee.CombatIndicator_e0e85008d0859db6bb769f09cf1b7b30); return; end end elseif (event == "UNIT_COMBAT") then if ( CombatIndicator_0e2babf2e3097eec96cf9280d1412ab5 == "player" ) then CombatIndicator_c2dfc06c54cb1d68aabaf67a77eb5384(self, CombatIndicator_00ae4bc475ffbcf97f789256a2e707de, CombatIndicator_6599f8c6a1b53d0212dfbab04e14e329, CombatIndicator_18bd17b74c56bfd23801044c9c9e8d4e, CombatIndicator_a29776f66159eb25625ce8ff4969048f); end elseif (event == "PLAYER_REGEN_ENABLED" and CombatIndicator_Config.LeaveCombat_Alert) then CombatIndicatorText_ShowSpell(COMBAT_INDICATOR_LEAVE_COMBAT); elseif (event == "PLAYER_REGEN_DISABLED" and CombatIndicator_Config.LeaveCombat_Alert) then CombatIndicatorText_ShowSpell(COMBAT_INDICATOR_ENTER_COMBAT); elseif (event == "PLAYER_COMBO_POINTS" and CombatIndicator_Config.ShowComboPoint) then local comboPoints = GetComboPoints(); if (comboPoints > 0) then CombatIndicatorText_ShowCombo(comboPoints); end end end function CombatIndicatorText_ShowCombo(CombatIndicator_3f50417fb16be9b1078eb68d24fa9c26) local CombatIndicator_390231f67fc064f33775aafff8fa9629 = getglobal("CombatIndicator"..CombatIndicator_ca0d0d660e1912c635e4a2af6bc9ff28); local CombatIndicator_cea1f4c93c74cba28822aecdd3d268e9 = getglobal(CombatIndicator_390231f67fc064f33775aafff8fa9629:GetName().."Text"); local CombatIndicator_c9bd86bc8bc59457d49315cf5b8c5b88 = string.format(COMBAT_INDICATOR_COMBO_TEXT, CombatIndicator_3f50417fb16be9b1078eb68d24fa9c26); CombatIndicator_cea1f4c93c74cba28822aecdd3d268e9:SetText(CombatIndicator_c9bd86bc8bc59457d49315cf5b8c5b88); CombatIndicator_cea1f4c93c74cba28822aecdd3d268e9:SetTextHeight(36); CombatIndicator_cea1f4c93c74cba28822aecdd3d268e9:SetTextColor(1.0, 1.0, 0.0); local CombatIndicator_04c0600c1b894c6808bccb7243e44859 = BigFoot_CreateAnim("indicator"..CombatIndicator_ca0d0d660e1912c635e4a2af6bc9ff28, CombatIndicator_390231f67fc064f33775aafff8fa9629); local CombatIndicator_58be92ecedd8702806a7ba2af475d890 = -GetScreenWidth()/2 + 100; local CombatIndicator_29bb5db232a69a0ef4ed0090c9a61caf = GetScreenHeight()/2; BigFoot_AddAction(CombatIndicator_04c0600c1b894c6808bccb7243e44859, nil, "SHOW", 0, nil, nil, CombatIndicator_58be92ecedd8702806a7ba2af475d890, CombatIndicator_29bb5db232a69a0ef4ed0090c9a61caf, 0.7); BigFoot_AddAction(CombatIndicator_04c0600c1b894c6808bccb7243e44859, nil, "SLIDE", 0.1, nil, nil, 20, 0, 0); BigFoot_AddAction(CombatIndicator_04c0600c1b894c6808bccb7243e44859, nil, "SHOCK", 0.2, nil, nil, 2, 2); BigFoot_AddAction(CombatIndicator_04c0600c1b894c6808bccb7243e44859, nil, "WAIT", 0.3, nil, nil); BigFoot_AddAction(CombatIndicator_04c0600c1b894c6808bccb7243e44859, nil, "HIDE", 0, nil, nil); BigFoot_PlayAnim(CombatIndicator_04c0600c1b894c6808bccb7243e44859); CombatIndicator_ca0d0d660e1912c635e4a2af6bc9ff28 = CombatIndicator_ca0d0d660e1912c635e4a2af6bc9ff28 + 1; if ( CombatIndicator_ca0d0d660e1912c635e4a2af6bc9ff28 > MAX_INDICATOR_COUNT ) then CombatIndicator_ca0d0d660e1912c635e4a2af6bc9ff28 = 1; end end function CombatIndicatorText_ShowSpell(CombatIndicator_c9bd86bc8bc59457d49315cf5b8c5b88) local CombatIndicator_390231f67fc064f33775aafff8fa9629 = getglobal("CombatIndicator"..CombatIndicator_ca0d0d660e1912c635e4a2af6bc9ff28); local CombatIndicator_cea1f4c93c74cba28822aecdd3d268e9 = getglobal(CombatIndicator_390231f67fc064f33775aafff8fa9629:GetName().."Text"); CombatIndicator_cea1f4c93c74cba28822aecdd3d268e9:SetText(CombatIndicator_c9bd86bc8bc59457d49315cf5b8c5b88); CombatIndicator_cea1f4c93c74cba28822aecdd3d268e9:SetTextHeight(24); CombatIndicator_cea1f4c93c74cba28822aecdd3d268e9:SetTextColor(0.0, 1.0, 1.0); local CombatIndicator_04c0600c1b894c6808bccb7243e44859 = BigFoot_CreateAnim("indicator"..CombatIndicator_ca0d0d660e1912c635e4a2af6bc9ff28, CombatIndicator_390231f67fc064f33775aafff8fa9629); local CombatIndicator_58be92ecedd8702806a7ba2af475d890 = -GetScreenWidth()/2 - 100; local CombatIndicator_29bb5db232a69a0ef4ed0090c9a61caf = GetScreenHeight()/2; BigFoot_AddAction(CombatIndicator_04c0600c1b894c6808bccb7243e44859, nil, "SHOW", 0, nil, nil, CombatIndicator_58be92ecedd8702806a7ba2af475d890, CombatIndicator_29bb5db232a69a0ef4ed0090c9a61caf, 0.5); BigFoot_AddAction(CombatIndicator_04c0600c1b894c6808bccb7243e44859, nil, "SLIDE", 0.1, nil, nil, 20, 20, 0); BigFoot_AddAction(CombatIndicator_04c0600c1b894c6808bccb7243e44859, nil, "SHOCK", 0.2, nil, nil, 2, 2); BigFoot_AddAction(CombatIndicator_04c0600c1b894c6808bccb7243e44859, nil, "WAIT", 0.3, nil, nil); BigFoot_AddAction(CombatIndicator_04c0600c1b894c6808bccb7243e44859, nil, "SLIDE", 2.0, nil, nil, 0, 0, -0.05); BigFoot_AddAction(CombatIndicator_04c0600c1b894c6808bccb7243e44859, nil, "HIDE", 0, nil, nil); BigFoot_PlayAnim(CombatIndicator_04c0600c1b894c6808bccb7243e44859); CombatIndicator_ca0d0d660e1912c635e4a2af6bc9ff28 = CombatIndicator_ca0d0d660e1912c635e4a2af6bc9ff28 + 1; if ( CombatIndicator_ca0d0d660e1912c635e4a2af6bc9ff28 > MAX_INDICATOR_COUNT ) then CombatIndicator_ca0d0d660e1912c635e4a2af6bc9ff28 = 1; end end function CombatIndicatorText_ShowText(CombatIndicator_c9bd86bc8bc59457d49315cf5b8c5b88, CombatIndicator_b368619f792f6db16858073f805f281f, CombatIndicator_b48c6d810781a0aaca7a1daf572bf0a2, CombatIndicator_7c039e42ccbb52e606d662dd4d7eb281, CombatIndicator_e0e85008d0859db6bb769f09cf1b7b30) local CombatIndicator_390231f67fc064f33775aafff8fa9629 = getglobal("CombatIndicator"..CombatIndicator_ca0d0d660e1912c635e4a2af6bc9ff28); local CombatIndicator_cea1f4c93c74cba28822aecdd3d268e9 = getglobal(CombatIndicator_390231f67fc064f33775aafff8fa9629:GetName().."Text"); CombatIndicator_cea1f4c93c74cba28822aecdd3d268e9:SetText(CombatIndicator_c9bd86bc8bc59457d49315cf5b8c5b88); if ( CombatIndicator_b368619f792f6db16858073f805f281f ) then CombatIndicator_cea1f4c93c74cba28822aecdd3d268e9:SetTextHeight(36); else CombatIndicator_cea1f4c93c74cba28822aecdd3d268e9:SetTextHeight(24); end local health = UnitHealth("player"); local maxHealth = UnitHealthMax("player"); if ( CombatIndicator_e0e85008d0859db6bb769f09cf1b7b30 ) then CombatIndicator_cea1f4c93c74cba28822aecdd3d268e9:SetTextColor(CombatIndicator_e0e85008d0859db6bb769f09cf1b7b30.CombatIndicator_3ae1f2c4b38d5f7c356b4cdb7c6e4027, CombatIndicator_e0e85008d0859db6bb769f09cf1b7b30.CombatIndicator_0f402d7ba502a47a51c410aee99b1ff1, CombatIndicator_e0e85008d0859db6bb769f09cf1b7b30.CombatIndicator_a0a053cacf1c8c43346fdc3adb684cb7); elseif ( health < maxHealth * COMBAT_INDICATOR_WARNING_RATE ) then CombatIndicator_cea1f4c93c74cba28822aecdd3d268e9:SetTextColor(1.0, 0.0, 0.0); elseif ( CombatIndicator_7c039e42ccbb52e606d662dd4d7eb281 ) then CombatIndicator_cea1f4c93c74cba28822aecdd3d268e9:SetTextColor(0.0, 1.0, 0.0); elseif ( CombatIndicator_b48c6d810781a0aaca7a1daf572bf0a2 ) then CombatIndicator_cea1f4c93c74cba28822aecdd3d268e9:SetTextColor(1.0, 0.5, 0.0); else CombatIndicator_cea1f4c93c74cba28822aecdd3d268e9:SetTextColor(1.0, 0.0, 0.0); end local CombatIndicator_04c0600c1b894c6808bccb7243e44859 = BigFoot_CreateAnim("indicator"..CombatIndicator_ca0d0d660e1912c635e4a2af6bc9ff28, CombatIndicator_390231f67fc064f33775aafff8fa9629); local CombatIndicator_58be92ecedd8702806a7ba2af475d890 = -GetScreenWidth()/2 - 100; local CombatIndicator_29bb5db232a69a0ef4ed0090c9a61caf = GetScreenHeight()/2; BigFoot_AddAction(CombatIndicator_04c0600c1b894c6808bccb7243e44859, nil, "SHOW", 0, nil, nil, CombatIndicator_58be92ecedd8702806a7ba2af475d890, CombatIndicator_29bb5db232a69a0ef4ed0090c9a61caf, 0.7); BigFoot_AddAction(CombatIndicator_04c0600c1b894c6808bccb7243e44859, nil, "SLIDE", 0.1, nil, nil, -20, 0, 0); BigFoot_AddAction(CombatIndicator_04c0600c1b894c6808bccb7243e44859, nil, "SHOCK", 0.2, nil, nil, 2, 2); BigFoot_AddAction(CombatIndicator_04c0600c1b894c6808bccb7243e44859, nil, "WAIT", 0.3, nil, nil); BigFoot_AddAction(CombatIndicator_04c0600c1b894c6808bccb7243e44859, nil, "SLIDE", 2.0, nil, nil, -5, -5, -0.05); BigFoot_AddAction(CombatIndicator_04c0600c1b894c6808bccb7243e44859, nil, "HIDE", 0, nil, nil); BigFoot_PlayAnim(CombatIndicator_04c0600c1b894c6808bccb7243e44859); CombatIndicator_ca0d0d660e1912c635e4a2af6bc9ff28 = CombatIndicator_ca0d0d660e1912c635e4a2af6bc9ff28 + 1; if ( CombatIndicator_ca0d0d660e1912c635e4a2af6bc9ff28 > MAX_INDICATOR_COUNT ) then CombatIndicator_ca0d0d660e1912c635e4a2af6bc9ff28 = 1; end end function CombatIndicator_bcb1e11ddf2a70f15f1b23d3de0ba637(self, CombatIndicator_d0708241b607c9a9dd1953c812fadfb7, ...) CombatIndicator_ef413ab4b5e7d6847b2480ed18f84886(self, CombatIndicator_d0708241b607c9a9dd1953c812fadfb7, ...); if ( self and self:GetName() ~= "PlayerFrame" ) then return; end local CombatIndicator_e6955c64cf39bdb23dc86de1a9ec2117 = CombatIndicator_0e0825a98a765bb3b49eec7512df8f66[CombatIndicator_d0708241b607c9a9dd1953c812fadfb7]; local CombatIndicator_e0e85008d0859db6bb769f09cf1b7b30 = CombatIndicator_87f223aeb7df6d02f21d55ba551413a9[CombatIndicator_d0708241b607c9a9dd1953c812fadfb7]; if ( CombatIndicator_e6955c64cf39bdb23dc86de1a9ec2117 == nil ) then return; end CombatIndicatorText_ShowText(CombatIndicator_e6955c64cf39bdb23dc86de1a9ec2117, nil, nil, nil, CombatIndicator_e0e85008d0859db6bb769f09cf1b7b30); end function CombatIndicator_c2dfc06c54cb1d68aabaf67a77eb5384(self, CombatIndicator_d0708241b607c9a9dd1953c812fadfb7, CombatIndicator_8b227d0350467199526e8c4b146b1dfe, CombatIndicator_c57af74df632aac2c797a7c202a55a5b, CombatIndicator_6d5e7d83d8358745ae4dcf61d16bd1f3) local CombatIndicator_e6955c64cf39bdb23dc86de1a9ec2117 = ""; local CombatIndicator_b368619f792f6db16858073f805f281f; local CombatIndicator_e0e85008d0859db6bb769f09cf1b7b30; local CombatIndicator_7c039e42ccbb52e606d662dd4d7eb281; local CombatIndicator_b48c6d810781a0aaca7a1daf572bf0a2; if( CombatIndicator_d0708241b607c9a9dd1953c812fadfb7 == "IMMUNE" ) then CombatIndicator_e6955c64cf39bdb23dc86de1a9ec2117 = CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["IMMUNE"]; CombatIndicator_e0e85008d0859db6bb769f09cf1b7b30 = CombatIndicator_7c8f6a474919abae380f8a2b0f3eca0d["IMMUNE"]; elseif ( CombatIndicator_d0708241b607c9a9dd1953c812fadfb7 == "WOUND" ) then if ( CombatIndicator_8b227d0350467199526e8c4b146b1dfe == "ABSORB" )then CombatIndicator_e6955c64cf39bdb23dc86de1a9ec2117 = CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["ABSORB"]; CombatIndicator_e0e85008d0859db6bb769f09cf1b7b30 = CombatIndicator_7c8f6a474919abae380f8a2b0f3eca0d["ABSORB"]; elseif ( CombatIndicator_c57af74df632aac2c797a7c202a55a5b ~= 0 ) then if ( CombatIndicator_8b227d0350467199526e8c4b146b1dfe == "CRITICAL" or CombatIndicator_8b227d0350467199526e8c4b146b1dfe == "GLANCING" or CombatIndicator_8b227d0350467199526e8c4b146b1dfe == "CRUSHING" ) then CombatIndicator_b368619f792f6db16858073f805f281f = 1; end if ( CombatIndicator_6d5e7d83d8358745ae4dcf61d16bd1f3 > 0 ) then CombatIndicator_b48c6d810781a0aaca7a1daf572bf0a2 = 1; end CombatIndicator_e6955c64cf39bdb23dc86de1a9ec2117 = "-"..CombatIndicator_c57af74df632aac2c797a7c202a55a5b; else CombatIndicator_e6955c64cf39bdb23dc86de1a9ec2117 = CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["MISS"]; CombatIndicator_e0e85008d0859db6bb769f09cf1b7b30 = CombatIndicator_7c8f6a474919abae380f8a2b0f3eca0d["MISS"]; end elseif ( CombatIndicator_d0708241b607c9a9dd1953c812fadfb7 == "BLOCK" ) then CombatIndicator_e6955c64cf39bdb23dc86de1a9ec2117 = CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f["BLOCK"]; CombatIndicator_e0e85008d0859db6bb769f09cf1b7b30 = CombatIndicator_7c8f6a474919abae380f8a2b0f3eca0d["BLOCK"]; elseif ( CombatIndicator_d0708241b607c9a9dd1953c812fadfb7 == "HEAL" ) then CombatIndicator_e6955c64cf39bdb23dc86de1a9ec2117 = "+"..CombatIndicator_c57af74df632aac2c797a7c202a55a5b; CombatIndicator_7c039e42ccbb52e606d662dd4d7eb281 = 1; if ( CombatIndicator_8b227d0350467199526e8c4b146b1dfe == "CRITICAL" ) then CombatIndicator_b368619f792f6db16858073f805f281f = 1; end else CombatIndicator_e6955c64cf39bdb23dc86de1a9ec2117 = CombatIndicator_e2d7067abe33e0db8f1c61af136fd97f[CombatIndicator_d0708241b607c9a9dd1953c812fadfb7]; CombatIndicator_e0e85008d0859db6bb769f09cf1b7b30 = CombatIndicator_7c8f6a474919abae380f8a2b0f3eca0d[CombatIndicator_d0708241b607c9a9dd1953c812fadfb7]; if ( not CombatIndicator_e6955c64cf39bdb23dc86de1a9ec2117 ) then CombatIndicator_e6955c64cf39bdb23dc86de1a9ec2117 = ""; end end CombatIndicatorText_ShowText(CombatIndicator_e6955c64cf39bdb23dc86de1a9ec2117, CombatIndicator_b368619f792f6db16858073f805f281f, CombatIndicator_b48c6d810781a0aaca7a1daf572bf0a2, CombatIndicator_7c039e42ccbb52e606d662dd4d7eb281, CombatIndicator_e0e85008d0859db6bb769f09cf1b7b30); end
