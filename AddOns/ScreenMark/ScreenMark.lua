 if (GetLocale() == "zhCN") then SCREEN_MARK_SHOW_SIGN="当截图的时候标上大脚的图标" SCREEN_MARK_PHOTO_MODE="按住Shift键来截取纯画面" SCREEN_MARK_CINEMATIC_MODE="按住Alt键来截取电影模式画面" MOD_SCREEN_MARK_TITLE={"屏幕标记", "pingmubiaoji"}; elseif (GetLocale() == "zhTW") then SCREEN_MARK_SHOW_SIGN="當截圖的時候標上大腳的圖標" SCREEN_MARK_CINEMATIC_MODE="按住Alt鍵來截取電影模式畫面" SCREEN_MARK_PHOTO_MODE="按住Shift鍵來截取純畫面" MOD_SCREEN_MARK_TITLE={"螢幕標記", "yingpingbiaoji"}; else SCREEN_MARK_SHOW_SIGN="Make Sign of BigFoot while taking screenshot" SCREEN_MARK_CINEMATIC_MODE="Hold Alt key to taking cinematic screenshot" SCREEN_MARK_PHOTO_MODE="Hold shift key to taking pure screenshot" MOD_SCREEN_MARK_TITLE="Screen Mark"; end ScreenMark_1672d02c987d9d1e9d4ab9d8417e8cd6 = {}; ScreenMark_1672d02c987d9d1e9d4ab9d8417e8cd6["UnitNamePlayer"] = "0"; ScreenMark_1672d02c987d9d1e9d4ab9d8417e8cd6["UnitNamePlayerGuild"] = "0"; ScreenMark_1672d02c987d9d1e9d4ab9d8417e8cd6["UnitNamePlayerPVPTitle"] = "0"; ScreenMark_1672d02c987d9d1e9d4ab9d8417e8cd6["PetNamePlates"] = "0"; ScreenMark_1672d02c987d9d1e9d4ab9d8417e8cd6["UnitNameNPC"] = "0"; ScreenMark_1672d02c987d9d1e9d4ab9d8417e8cd6["CombatDamage"] = "0"; ScreenMark_1672d02c987d9d1e9d4ab9d8417e8cd6["CombatLogPeriodicSpells"] = "0"; ScreenMark_1672d02c987d9d1e9d4ab9d8417e8cd6["PetMeleeDamage"] = "0"; ScreenMark_e741e8f5040614768cb01072c719906d = {}; local ScreenMark_5d43233e412ff889bb8d0210a00fc0c3; local ScreenMark_019eccc7bf8ca199c4d4b5f8d9a1a9e1; local ScreenMark_c6c7fe5e1576c4451e57e93f3aa7298c; local ScreenMark_dce1ca0dd51a9ff443157fb9f3293779 = 0; ScreenMark_bf9b0f6544a898584d08908c55b0308f = nil; ScreenMark_c47e3b2a79db0c0d0b4e9b22547c1c23 = nil; function ScreenMark_OnLoad(self) ScreenMark_5d43233e412ff889bb8d0210a00fc0c3 = TakeScreenshot; TakeScreenshot = ScreenMark_a96ace4e9bde6b7fa40224f85080fde3; ScreenMark_019eccc7bf8ca199c4d4b5f8d9a1a9e1 = ScreenshotStatus_OnEvent; ScreenshotStatus_OnEvent = ScreenMark_a6ff8361db22a5d529c5f1e6b8f56d50; ModManagement_RegisterMod( "ScreenMark", "Interface\\Icons\\Spell_Arcane_TeleportStormWind", MOD_SCREEN_MARK_TITLE, "", nil ); ModManagement_RegisterCheckBox( "ScreenMark", SCREEN_MARK_PHOTO_MODE, nil, "ScreenMark_EnablePhotoMode", 1, function (ScreenMark_7739b813d90aed43ab9d0eb84ec1c1ae) if (ScreenMark_7739b813d90aed43ab9d0eb84ec1c1ae == 1) then ScreenMark_bf9b0f6544a898584d08908c55b0308f = 1; else ScreenMark_bf9b0f6544a898584d08908c55b0308f = nil; end end ); ModManagement_RegisterCheckBox( "ScreenMark", SCREEN_MARK_CINEMATIC_MODE, nil, "ScreenMark_EnableCinematicMode", 1, function (ScreenMark_7739b813d90aed43ab9d0eb84ec1c1ae) if (ScreenMark_7739b813d90aed43ab9d0eb84ec1c1ae == 1) then ScreenMark_a51411a0c1c150d1f1c4475665a74ac0 = 1; else ScreenMark_a51411a0c1c150d1f1c4475665a74ac0 = nil; end end ); ModManagement_RegisterCheckBox( "ScreenMark", SCREEN_MARK_SHOW_SIGN, nil, "ScreenMark_EnableSign", 0, function (ScreenMark_7739b813d90aed43ab9d0eb84ec1c1ae) if (ScreenMark_7739b813d90aed43ab9d0eb84ec1c1ae == 1) then ScreenMark_c47e3b2a79db0c0d0b4e9b22547c1c23 = 1; else ScreenMark_c47e3b2a79db0c0d0b4e9b22547c1c23 = nil; end end ); end function ScreenMark_a96ace4e9bde6b7fa40224f85080fde3() if ( ScreenMark_c47e3b2a79db0c0d0b4e9b22547c1c23 == 1 ) then if ( not ScreenshotSign:IsVisible() ) then ScreenshotSign:Show(); end end if ( (ScreenMark_bf9b0f6544a898584d08908c55b0308f and IsShiftKeyDown()) or (ScreenMark_a51411a0c1c150d1f1c4475665a74ac0 and IsAltKeyDown())) then local ScreenMark_413bf9c15ce77baa8ebf1cda4cbf4887, ScreenMark_2361bab8b48b1041ad740bb561b21aee; ScreenMark_e741e8f5040614768cb01072c719906d = {}; for ScreenMark_413bf9c15ce77baa8ebf1cda4cbf4887, ScreenMark_2361bab8b48b1041ad740bb561b21aee in pairs(ScreenMark_1672d02c987d9d1e9d4ab9d8417e8cd6) do RegisterCVar(ScreenMark_413bf9c15ce77baa8ebf1cda4cbf4887); ScreenMark_e741e8f5040614768cb01072c719906d[ScreenMark_413bf9c15ce77baa8ebf1cda4cbf4887] = GetCVar(ScreenMark_413bf9c15ce77baa8ebf1cda4cbf4887); SetCVar(ScreenMark_413bf9c15ce77baa8ebf1cda4cbf4887, ScreenMark_2361bab8b48b1041ad740bb561b21aee); end if ( UIParent:IsVisible() ) then ScreenMark_dce1ca0dd51a9ff443157fb9f3293779 = 1; else ScreenMark_dce1ca0dd51a9ff443157fb9f3293779 = 0; end CloseAllWindows(); UIParent:Hide(); if (ScreenMark_a51411a0c1c150d1f1c4475665a74ac0 and IsAltKeyDown()) then ShowUIPanel(CinematicFrame, 1); end end ScreenMark_5d43233e412ff889bb8d0210a00fc0c3(); end function ScreenMark_a6ff8361db22a5d529c5f1e6b8f56d50(ScreenMark_d0708241b607c9a9dd1953c812fadfb7) ScreenMark_019eccc7bf8ca199c4d4b5f8d9a1a9e1(ScreenMark_d0708241b607c9a9dd1953c812fadfb7); ScreenshotSign:Hide(); if ( (ScreenMark_bf9b0f6544a898584d08908c55b0308f and IsShiftKeyDown()) or (ScreenMark_a51411a0c1c150d1f1c4475665a74ac0 and IsAltKeyDown())) then local ScreenMark_413bf9c15ce77baa8ebf1cda4cbf4887, ScreenMark_2361bab8b48b1041ad740bb561b21aee; for ScreenMark_413bf9c15ce77baa8ebf1cda4cbf4887, ScreenMark_2361bab8b48b1041ad740bb561b21aee in pairs(ScreenMark_e741e8f5040614768cb01072c719906d) do RegisterCVar(ScreenMark_413bf9c15ce77baa8ebf1cda4cbf4887); SetCVar(ScreenMark_413bf9c15ce77baa8ebf1cda4cbf4887, ScreenMark_2361bab8b48b1041ad740bb561b21aee); end if (ScreenMark_a51411a0c1c150d1f1c4475665a74ac0 and IsAltKeyDown()) then HideUIPanel(CinematicFrame); end end if ( ScreenMark_dce1ca0dd51a9ff443157fb9f3293779 == 1 ) then UIParent:Show(); ScreenMark_dce1ca0dd51a9ff443157fb9f3293779 = 0; end end
